{"version":3,"sources":["webpack:///static/js/8.6af47aa0561e7ce1f90a.js","webpack:///./src/components/sys/goods/recycle-list.vue","webpack:///recycle-list.vue","webpack:///./src/components/sys/goods/recycle-list.vue?31eb","webpack:///./src/components/sys/goods/recycle-list.vue?2e6e","webpack:///./src/components/sys/goods/recycle-list.vue?c0d1"],"names":["webpackJsonp","744","module","exports","__webpack_require__","injectStyle","ssrContext","Component","806","__webpack_exports__","Object","defineProperty","value","data","loading","searchForm","pageNum","pageSize","recycleList","total","selectData","goodsIds","goodsSns","methods","getRecycleList","_this","this","axios","post","body","then","response","head","code","GoodsList","parseInt","PageInfo","record_count","handleCurrentChange","val","handleSelectionChange","goodsDelete","type","_this2","i","push","goods_id","length","$message","message","$confirm","confirmButtonText","cancelButtonText","res","sub_msg","catch","reduction","id","_this3","isDelete","created","855","version","sources","names","mappings","file","sourcesContent","sourceRoot","902","content","locals","951","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","_s","size","on","click","$event","directives","name","rawName","expression","staticStyle","width","stripe","border","max-height","selection-change","label","prop","align","min-width","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","row","alt","height","goods_name","Math","ceil","myConfig","pageRows","current-page","page-size","layout","current-change","_e","staticRenderFns"],"mappings":"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","file":"static/js/8.6af47aa0561e7ce1f90a.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 744:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(902)\n}\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(806),\n  /* template */\n  __webpack_require__(951),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-16a6dcfa\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 806:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            loading: false,\n            searchForm: {\n                pageNum: 1,\n                pageSize: 20\n            },\n            recycleList: [],\n            total: '',\n            selectData: [],\n            goodsIds: [],\n            goodsSns: []\n        };\n    },\n\n\n    methods: {\n        getRecycleList: function getRecycleList() {\n            var _this = this;\n\n            this.loading = true;\n            this.axios.post(\"/proxy/fv/supplier/goods.php?act=getRecycle\", { body: this.searchForm }).then(function (response) {\n                _this.loading = false;\n                var data = response.data;\n                if (data.head.code == \"10000\") {\n                    _this.recycleList = data.body.GoodsList;\n                    _this.total = parseInt(data.body.PageInfo.record_count);\n                }\n            });\n        },\n\n        //分页\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.searchForm.pageNum = val;\n            this.getRecycleList();\n        },\n\n        //复选框\n        handleSelectionChange: function handleSelectionChange(val) {\n            this.selectData = val;\n        },\n\n        //商品删除\n        goodsDelete: function goodsDelete(type) {\n            var _this2 = this;\n\n            // 获取ids\n            this.goodsIds = [];\n            if (type == 'batch') {\n                for (var i in this.selectData) {\n                    this.goodsIds.push(this.selectData[i].goods_id);\n                }\n            } else {\n                this.goodsIds = [type];\n            }\n\n            if (this.goodsIds.length == 0) {\n                this.$message({\n                    message: \"请选择商品\",\n                    type: \"error\"\n                });\n                return false;\n            }\n            this.$confirm('您确定要清空该商品？', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                _this2.axios.post('/proxy/goods/api/goods/delete/physics', { body: { goodsIds: _this2.goodsIds } }).then(function (res) {\n                    var data = res.data;\n                    _this2.$message({\n                        message: data.head.code == \"10000\" ? \"操作成功\" : data.body.sub_msg,\n                        type: data.head.code == \"10000\" ? \"success\" : \"error\"\n                    });\n                    if (data.head.code == '10000') {\n                        _this2.getRecycleList();\n                    }\n                });\n            }).catch(function () {\n                _this2.$message({\n                    type: 'info',\n                    message: '已取消清空'\n                });\n            });\n        },\n\n        //还原\n        reduction: function reduction(id) {\n            var _this3 = this;\n\n            this.$confirm('您确定要还原商品？', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                _this3.axios.post('/proxy/goods/api/goods/delete/logic', { body: { goodsIds: [id], isDelete: 0 } }).then(function (res) {\n                    var data = res.data;\n                    _this3.$message({\n                        message: data.head.code == \"10000\" ? \"操作成功\" : data.body.sub_msg,\n                        type: data.head.code == \"10000\" ? \"success\" : \"error\"\n                    });\n                    if (data.head.code == '10000') {\n                        _this3.getRecycleList();\n                    }\n                });\n            }).catch(function () {\n                _this3.$message({\n                    type: 'info',\n                    message: '已取消还原'\n                });\n            });\n        }\n    },\n    created: function created() {\n        this.getRecycleList();\n    }\n});\n\n/***/ }),\n\n/***/ 855:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(728)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".wrap-recycle .batch[data-v-16a6dcfa]{margin:15px 0}.wrap-recycle .nav-bar[data-v-16a6dcfa]{margin:8px 0}.wrap-recycle .td-goods-name[data-v-16a6dcfa]{text-align:left}.wrap-recycle .td-goods-name .img[data-v-16a6dcfa]{border:1px solid #666;border-radius:4px;padding:4px}.wrap-recycle .td-goods-name .img img[data-v-16a6dcfa]{border-radius:2px}.wrap-recycle .td-goods-name .txt[data-v-16a6dcfa]{margin-left:80px}\", \"\", {\"version\":3,\"sources\":[\"D:/mywebstorm/admin-sys/src/components/sys/goods/recycle-list.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,aAAe,CAChB,AACD,wCACE,YAAc,CACf,AACD,8CACE,eAAiB,CAClB,AACD,mDACE,sBAAuB,AACvB,kBAAmB,AACnB,WAAa,CACd,AACD,uDACE,iBAAmB,CACpB,AACD,mDACE,gBAAkB,CACnB\",\"file\":\"recycle-list.vue\",\"sourcesContent\":[\"\\n.wrap-recycle .batch[data-v-16a6dcfa] {\\n  margin: 15px 0;\\n}\\n.wrap-recycle .nav-bar[data-v-16a6dcfa] {\\n  margin: 8px 0;\\n}\\n.wrap-recycle .td-goods-name[data-v-16a6dcfa] {\\n  text-align: left;\\n}\\n.wrap-recycle .td-goods-name .img[data-v-16a6dcfa] {\\n  border: 1px solid #666;\\n  border-radius: 4px;\\n  padding: 4px;\\n}\\n.wrap-recycle .td-goods-name .img img[data-v-16a6dcfa] {\\n  border-radius: 2px;\\n}\\n.wrap-recycle .td-goods-name .txt[data-v-16a6dcfa] {\\n  margin-left: 80px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 902:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(855);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(729)(\"6baea7aa\", content, true);\n\n/***/ }),\n\n/***/ 951:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"wrap wrap-recycle\"\n  }, [_c('div', {\n    staticClass: \"nav-bar clear-fix\"\n  }, [_c('el-breadcrumb', {\n    staticClass: \"fl-l\",\n    attrs: {\n      \"separator\": \">\"\n    }\n  }, [_c('el-breadcrumb-item', [_vm._v(\"商品\")]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"回收站(\" + _vm._s(_vm.total) + \")\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"batch\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.goodsDelete('batch')\n      }\n    }\n  }, [_vm._v(\"清空回收站\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"report goods-list\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.recycleList,\n      \"stripe\": \"\",\n      \"border\": \"\",\n      \"max-height\": \"520\"\n    },\n    on: {\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"商品编码\",\n      \"prop\": \"goods_sn\",\n      \"align\": \"center\",\n      \"min-width\": \"120\",\n      \"show-overflow-tooltip\": true\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"商品名称\",\n      \"prop\": \"goods_name\",\n      \"align\": \"center\",\n      \"min-width\": \"300\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', {\n          staticClass: \"td-goods-name clear-fix\"\n        }, [_c('div', {\n          staticClass: \"img fl-l\"\n        }, [_c('img', {\n          directives: [{\n            name: \"lazy\",\n            rawName: \"v-lazy\",\n            value: (scope.row.cover_img),\n            expression: \"scope.row.cover_img\"\n          }],\n          attrs: {\n            \"alt\": \"\",\n            \"min-width\": \"60\",\n            \"height\": \"60\"\n          }\n        })]), _vm._v(\" \"), _c('div', {\n          staticClass: \"txt\"\n        }, [_vm._v(_vm._s(scope.row.goods_name))])])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"最后更新时间\",\n      \"prop\": \"last_update\",\n      \"align\": \"center\",\n      \"min-width\": \"150\",\n      \"show-overflow-tooltip\": true\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"left\",\n      \"min-width\": \"150\",\n      \"show-overflow-tooltip\": true\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.goodsDelete(scope.row.goods_id)\n            }\n          }\n        }, [_vm._v(\"清空\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.reduction(scope.row.goods_id)\n            }\n          }\n        }, [_vm._v(\"还原\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), (Math.ceil(_vm.total / _vm.myConfig.pageRows) > 1) ? _c('div', {\n    staticClass: \"pagination\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.searchForm.pageNum,\n      \"page-size\": _vm.searchForm.pageSize,\n      \"layout\": \"total,  prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/8.6af47aa0561e7ce1f90a.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16a6dcfa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=styles&index=0!./recycle-list.vue\")\n}\nvar Component = require(\"!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=script&index=0!./recycle-list.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16a6dcfa\\\"}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=template&index=0!./recycle-list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-16a6dcfa\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sys/goods/recycle-list.vue\n// module id = 744\n// module chunks = 8","<template>\r\n  <div class=\"wrap wrap-recycle\">\r\n    <!--面包导航-->\r\n    <div class=\"nav-bar clear-fix\">\r\n      <el-breadcrumb separator=\">\" class=\"fl-l\">\r\n        <el-breadcrumb-item>商品</el-breadcrumb-item>\r\n        <el-breadcrumb-item>回收站({{total}})</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <div class=\"batch\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"goodsDelete('batch')\">清空回收站</el-button>\r\n    </div>\r\n    <!--列表-->\r\n    <el-table :data=\"recycleList\" stripe border  v-loading=\"loading\" class=\"report goods-list\" max-height=\"520\"   @selection-change=\"handleSelectionChange\" style=\"width:100%;\">\r\n      <el-table-column type=\"selection\" width=\"80\" ></el-table-column>\r\n      <el-table-column label=\"商品编码\" prop=\"goods_sn\" align=\"center\" min-width=\"120\" :show-overflow-tooltip=\"true\"  >\r\n      </el-table-column>\r\n     \r\n      <el-table-column label=\"商品名称\" prop=\"goods_name\" align=\"center\" min-width=\"300\" >\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"td-goods-name clear-fix\">\r\n            <div class=\"img fl-l\"><img v-lazy=\"scope.row.cover_img\" alt=\"\" min-width=\"60\" height=\"60\"></div>\r\n            <div class=\"txt\">{{scope.row.goods_name}}</div>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"最后更新时间\" prop=\"last_update\" align=\"center\" min-width=\"150\" :show-overflow-tooltip=\"true\"  >\r\n      </el-table-column>\r\n       \r\n      <el-table-column label=\"操作\"  align=\"left\" min-width=\"150\" :show-overflow-tooltip=\"true\" >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"goodsDelete(scope.row.goods_id)\">清空</el-button>       \r\n          <el-button type=\"primary\" size=\"small\" @click=\"reduction(scope.row.goods_id)\">还原</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <div class=\"pagination\" v-if=\"Math.ceil(total/myConfig.pageRows)>1\"> \r\n      <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"searchForm.pageNum\"  :page-size=\"searchForm.pageSize\" layout=\"total,  prev, pager, next, jumper\" :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"less\" scoped>\r\n.wrap-recycle{\r\n    .batch{\r\n        margin: 15px 0;\r\n    }\r\n    .nav-bar{\r\n        margin: 8px 0;\r\n    }\r\n    .td-goods-name {     \r\n      text-align: left;\r\n      .img {\r\n        border: 1px solid #666;\r\n        border-radius: 4px;\r\n        padding: 4px;\r\n        img {\r\n          border-radius: 2px;\r\n        }\r\n      }\r\n      .txt {\r\n        margin-left: 80px;\r\n      }\r\n    }\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            loading:false,\r\n            searchForm: {\r\n                pageNum: 1,\r\n                pageSize: 20\r\n            },\r\n            recycleList:[],\r\n            total:'',   \r\n            selectData:[],\r\n            goodsIds:[],\r\n            goodsSns:[]     \r\n        }\r\n    },\r\n\r\n    methods:{\r\n        getRecycleList(){\r\n            this.loading = true;\r\n            this.axios.post(\"/proxy/fv/supplier/goods.php?act=getRecycle\", {body: this.searchForm}).then(response => {\r\n                this.loading = false;\r\n                let data = response.data;\r\n                if (data.head.code == \"10000\") {\r\n                    this.recycleList=data.body.GoodsList;\r\n                    this.total = parseInt(data.body.PageInfo.record_count);\r\n                    \r\n                }\r\n            });\r\n        },\r\n        //分页\r\n        handleCurrentChange(val) {\r\n            this.searchForm.pageNum = val;\r\n            this.getRecycleList();\r\n        },\r\n        //复选框\r\n        handleSelectionChange(val) {\r\n            this.selectData = val;\r\n        },\r\n        //商品删除\r\n        goodsDelete(type){\r\n            // 获取ids\r\n            this.goodsIds = [];       \r\n            if(type=='batch'){\r\n                for (let i in this.selectData) {\r\n                    this.goodsIds.push(this.selectData[i].goods_id);  \r\n                }\r\n            }else{\r\n                this.goodsIds=[type]\r\n            }\r\n            \r\n            if (this.goodsIds.length == 0) {\r\n                this.$message({\r\n                message: \"请选择商品\",\r\n                type: \"error\"\r\n                });\r\n                return false;\r\n            } \r\n            this.$confirm('您确定要清空该商品？', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {         \r\n                this.axios.post('/proxy/goods/api/goods/delete/physics',{body:{goodsIds:this.goodsIds}}).then(res=>{\r\n                    let data = res.data;\r\n                    this.$message({\r\n                        message: data.head.code == \"10000\" ? \"操作成功\" : data.body.sub_msg,\r\n                        type: data.head.code == \"10000\" ? \"success\" : \"error\"\r\n                    });\r\n                    if(data.head.code =='10000'){\r\n                    this.getRecycleList();\r\n                    }\r\n                })\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消清空'\r\n                });          \r\n            });\r\n        },\r\n        //还原\r\n        reduction(id){\r\n            this.$confirm('您确定要还原商品？', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {         \r\n                this.axios.post('/proxy/goods/api/goods/delete/logic',{body:{goodsIds:[id],isDelete:0}}).then(res=>{\r\n                    let data = res.data;\r\n                    this.$message({\r\n                        message: data.head.code == \"10000\" ? \"操作成功\" : data.body.sub_msg,\r\n                        type: data.head.code == \"10000\" ? \"success\" : \"error\"\r\n                    });\r\n                    if(data.head.code =='10000'){\r\n                    this.getRecycleList();\r\n                    }\r\n                })\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消还原'\r\n                });          \r\n            });\r\n        }  \r\n    },\r\n    created(){\r\n        this.getRecycleList();\r\n    }\r\n  \r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// recycle-list.vue?522c7beb","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.4@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".wrap-recycle .batch[data-v-16a6dcfa]{margin:15px 0}.wrap-recycle .nav-bar[data-v-16a6dcfa]{margin:8px 0}.wrap-recycle .td-goods-name[data-v-16a6dcfa]{text-align:left}.wrap-recycle .td-goods-name .img[data-v-16a6dcfa]{border:1px solid #666;border-radius:4px;padding:4px}.wrap-recycle .td-goods-name .img img[data-v-16a6dcfa]{border-radius:2px}.wrap-recycle .td-goods-name .txt[data-v-16a6dcfa]{margin-left:80px}\", \"\", {\"version\":3,\"sources\":[\"D:/mywebstorm/admin-sys/src/components/sys/goods/recycle-list.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,aAAe,CAChB,AACD,wCACE,YAAc,CACf,AACD,8CACE,eAAiB,CAClB,AACD,mDACE,sBAAuB,AACvB,kBAAmB,AACnB,WAAa,CACd,AACD,uDACE,iBAAmB,CACpB,AACD,mDACE,gBAAkB,CACnB\",\"file\":\"recycle-list.vue\",\"sourcesContent\":[\"\\n.wrap-recycle .batch[data-v-16a6dcfa] {\\n  margin: 15px 0;\\n}\\n.wrap-recycle .nav-bar[data-v-16a6dcfa] {\\n  margin: 8px 0;\\n}\\n.wrap-recycle .td-goods-name[data-v-16a6dcfa] {\\n  text-align: left;\\n}\\n.wrap-recycle .td-goods-name .img[data-v-16a6dcfa] {\\n  border: 1px solid #666;\\n  border-radius: 4px;\\n  padding: 4px;\\n}\\n.wrap-recycle .td-goods-name .img img[data-v-16a6dcfa] {\\n  border-radius: 2px;\\n}\\n.wrap-recycle .td-goods-name .txt[data-v-16a6dcfa] {\\n  margin-left: 80px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-16a6dcfa\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_less-loader@4.0.4@less-loader/dist?{\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/sys/goods/recycle-list.vue\n// module id = 855\n// module chunks = 8","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16a6dcfa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_less-loader@4.0.4@less-loader/dist/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./recycle-list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"6baea7aa\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-16a6dcfa\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_less-loader@4.0.4@less-loader/dist?{\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/sys/goods/recycle-list.vue\n// module id = 902\n// module chunks = 8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"wrap wrap-recycle\"\n  }, [_c('div', {\n    staticClass: \"nav-bar clear-fix\"\n  }, [_c('el-breadcrumb', {\n    staticClass: \"fl-l\",\n    attrs: {\n      \"separator\": \">\"\n    }\n  }, [_c('el-breadcrumb-item', [_vm._v(\"商品\")]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"回收站(\" + _vm._s(_vm.total) + \")\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"batch\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.goodsDelete('batch')\n      }\n    }\n  }, [_vm._v(\"清空回收站\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"report goods-list\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.recycleList,\n      \"stripe\": \"\",\n      \"border\": \"\",\n      \"max-height\": \"520\"\n    },\n    on: {\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"商品编码\",\n      \"prop\": \"goods_sn\",\n      \"align\": \"center\",\n      \"min-width\": \"120\",\n      \"show-overflow-tooltip\": true\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"商品名称\",\n      \"prop\": \"goods_name\",\n      \"align\": \"center\",\n      \"min-width\": \"300\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', {\n          staticClass: \"td-goods-name clear-fix\"\n        }, [_c('div', {\n          staticClass: \"img fl-l\"\n        }, [_c('img', {\n          directives: [{\n            name: \"lazy\",\n            rawName: \"v-lazy\",\n            value: (scope.row.cover_img),\n            expression: \"scope.row.cover_img\"\n          }],\n          attrs: {\n            \"alt\": \"\",\n            \"min-width\": \"60\",\n            \"height\": \"60\"\n          }\n        })]), _vm._v(\" \"), _c('div', {\n          staticClass: \"txt\"\n        }, [_vm._v(_vm._s(scope.row.goods_name))])])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"最后更新时间\",\n      \"prop\": \"last_update\",\n      \"align\": \"center\",\n      \"min-width\": \"150\",\n      \"show-overflow-tooltip\": true\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"left\",\n      \"min-width\": \"150\",\n      \"show-overflow-tooltip\": true\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.goodsDelete(scope.row.goods_id)\n            }\n          }\n        }, [_vm._v(\"清空\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.reduction(scope.row.goods_id)\n            }\n          }\n        }, [_vm._v(\"还原\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), (Math.ceil(_vm.total / _vm.myConfig.pageRows) > 1) ? _c('div', {\n    staticClass: \"pagination\"\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.searchForm.pageNum,\n      \"page-size\": _vm.searchForm.pageSize,\n      \"layout\": \"total,  prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-16a6dcfa\"}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/sys/goods/recycle-list.vue\n// module id = 951\n// module chunks = 8"],"sourceRoot":""}