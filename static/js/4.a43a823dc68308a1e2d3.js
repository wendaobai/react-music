webpackJsonp([4],{263:function(t,e,a){function i(t){a(935),a(934)}var o=a(4)(a(803),a(980),i,"data-v-c18c5e40",null);t.exports=o.exports},763:function(t,e,a){t.exports={default:a(766),__esModule:!0}},765:function(t,e,a){"use strict";e.__esModule=!0;var i=a(174),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,o.default)(t)}},766:function(t,e,a){a(175),a(112),t.exports=a(767)},767:function(t,e,a){var i=a(64),o=a(177);t.exports=a(27).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},771:function(t,e,a){t.exports={default:a(772),__esModule:!0}},772:function(t,e,a){a(776),t.exports=a(27).Object.values},773:function(t,e,a){var i=a(173),o=a(111),s=a(252).f;t.exports=function(t){return function(e){for(var a,r=o(e),n=i(r),l=n.length,d=0,c=[];l>d;)s.call(r,a=n[d++])&&c.push(t?[a,r[a]]:r[a]);return c}}},776:function(t,e,a){var i=a(43),o=a(773)(!1);i(i.S,"Object",{values:function(t){return o(t)}})},803:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(771),o=a.n(i),s=a(765),r=a.n(s),n=a(763),l=a.n(n),d=a(21),c=a.n(d),p=a(28),u=a.n(p),h=a(22),g=a.n(h),m=a(15),A=function(t){return a.e(16).then(function(){return t(a(945))}.bind(null,a)).catch(a.oe)},_=function(t){return a.e(16).then(function(){return t(a(768))}.bind(null,a)).catch(a.oe)};e.default={components:{GoodsExport:A,CpaPush:_},data:function(){return{fold:!0,searchForm:{brandName:"",brand_id:"",search_price_min:"",search_price_max:"",search_type:"",keyword:"",cat_id:"",is_qyt:"",is_lock:"",is_on_sale:"",logis_way:"",freight_template_id:"",search_audit:"",sale_closing_date:"",cpaCode:"",shipping_from:"",pageNum:1,pageSize:20,is_delete:"1",min_weight:"",max_weight:"",cascader:[]},showBatch:!0,userType:"",goodsStatus:"",loading:!1,total:0,goodsList:[],goodsAllIds:[],cateList:[],cpaList:[],cpaSortList:[],cpaListAll:[],brandsList:[],logisticsList:[],freightTemplateList:[],props:{value:"catId",label:"catName"},brandProps:{value:"brandName",label:"brandName"},selectData:[],actionType:"",goodsIds:[],goodsSns:[],adminAuditForm:{supplierStatusTxt:"",auditStatus:"",cpaList:[]},cpaForm:{cpaList:[],cpaSearch:""},isIndeterminate:!1,cpaCheckAll:!1,dialogAdminAudit:!1,dialogLogistic:!1,dialogValidityDate:!1,dialogSetValidityDate:!1,dialogSetValidityDateType:0,dialogCpa:!1,adminAuditValidateText:!1,LogisticValidateText:!1,cpaValidateText:!1,skipType:{},selectStatus:{goodsStatus:"",goodsLogistic:""},logisticForm:{price:"",logisticsTypeId:"",goodsIdRows:[]},validityDate:{num:""},validityDateMonth:"2",pageSizeArr:[20,50,100],cpaInfo:[],dialogCpaInfo:!1,areas:[],shopCountry:[],preview:{dialogShowAllPic:!1,color_images:[],common_images:[]},skuInfoList:[],dialogSkuInfo:!1,goodsManagersList:[]}},computed:u()({},a.i(m.b)({authSelect:"getAuthSelect",authOps:"getAuthOps"})),filters:{dateFormat:function(t){return t?g()("yyyy-MM-dd hh:mm",new Date(t)):""},is_delete:function(t){var e="";switch(t){case"0":e="正常";break;case"1":case"2":e="已删除"}return e}},methods:{showSkuInfo:function(t){var e=this;this.axios.post("/proxy/fv/"+this.userType+"/goods.php?act=getGoodsSkuList",{body:{goods_id:t}}).then(function(t){var a=t.data;"10000"==a.head.code&&(e.dialogSkuInfo=!0,e.skuInfoList=a.body.rows)})},initSearchForm:function(){this.searchForm={brandName:"",brand_id:"",search_price_min:"",search_price_max:"",search_type:"",keyword:"",cat_id:"",is_qyt:"",is_lock:"",is_on_sale:"",logis_way:"",freight_template_id:"",search_audit:"",sale_closing_date:"",cpaCode:"",shipping_from:"",pageNum:1,pageSize:20,is_delete:"1",min_weight:"",max_weight:"",goods_manager:"",cascader:[]}},renderGoodsStatus:function(t){for(var e in this.myConfig.status.auditStatus)if(t==this.myConfig.status.auditStatus[e].val)return this.myConfig.status.auditStatus[e].label;return""},validateFloat:function(t){switch(t){case"search_price_min":this.searchForm.search_price_min=isNaN(parseFloat(this.searchForm.search_price_min))?"":parseFloat(this.searchForm.search_price_min).toFixed(2);break;case"search_price_max":this.searchForm.search_price_max=isNaN(parseFloat(this.searchForm.search_price_max))?"":parseFloat(this.searchForm.search_price_max).toFixed(2);break;case"logisticPrice":this.logisticForm.price=isNaN(parseFloat(this.logisticForm.price))?"":parseFloat(this.logisticForm.price).toFixed(2)}},search_smt:function(){this.searchForm.pageNum=1;for(var t in this.searchForm)"string"==typeof this.searchForm[t]&&(this.searchForm[t]=this.searchForm[t].trim());this.getGoodsList(),this.showBatch="2"!=this.searchForm.is_delete},DateToString:function(){for(var t in this.searchForm)this.searchForm[t]instanceof Date&&(this.searchForm[t]=g()("yyyy-MM-dd",new Date(this.searchForm[t]))),this.searchForm[t]instanceof String&&(this.searchForm[t]=this.searchForm[t].trim())},getGoodsList:function(){var t=this;this.loading=!0,this.DateToString(),"audit"==this.goodsStatus&&(this.searchForm.sort_order="ASC"),this.axios.post("/proxy/fv/"+this.userType+"/goods.php?act=getGoodsList",{body:this.searchForm}).then(function(e){t.loading=!1;var a=e.data;"10000"==a.head.code&&("20000"==a.body.sub_code?t.$message({message:a.body.sub_msg,type:"error"}):(t.selectStatus.goodsStatus=t.searchForm.search_audit,t.goodsList=a.body.goods,t.total=parseInt(a.body.filter.record_count),t.goodsAllIds=t.goodsList.map(function(t){return t.goods_id}),t.goodsAllIds.length>0&&(t.getProductStock(),"admin"==t.userType&&t.getProductCpa())))})},getProductStock:function(){var t=this;this.axios.post("/proxy/goods/api/products/stockCount",{body:{goodsIds:this.goodsAllIds}}).then(function(e){var a=e.data;if("10000"==a.head.code){var i=a.body.sku;for(var o in i)for(var s in t.goodsList)if(i[o].goodsId==t.goodsList[s].goods_id){t.goodsList[s].stock=i[o].productNumber;break}t.goodsList=JSON.parse(c()({tmp:t.goodsList})).tmp}})},getProductCpa:function(){var t=this;this.axios.post("/proxy/ec/cpa/goods/in",{body:{goodsIds:this.goodsAllIds.join()}}).then(function(e){var a=e.data;if("10000"==a.head.code){var i=a.body.map;for(var o in i)for(var s in t.goodsList)if(o==t.goodsList[s].goods_id){t.goodsList[s].cpa=i[o];break}t.goodsList=JSON.parse(c()({tmp:t.goodsList})).tmp}})},handleCurrentChange:function(t){this.searchForm.pageNum=t,this.getGoodsList()},handleSizeChange:function(t){this.searchForm.pageSize=t,this.getGoodsList()},getCateList:function(){var t=this;this.axios.post("/proxy/report/api/common/category/options",{body:{}}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.cateList=a.body)})},getGoodsManagers:function(){var t=this;this.axios.post("/proxy/fv/admin/goods.php?act=getGoodsManagers",{body:{}}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.goodsManagersList=a.body.rows)})},cateChange:function(t){this.searchForm.cat_id=t[t.length-1]},getFreightTemplate:function(){var t=this;this.axios.post("/proxy/freight/api/template/list",{body:{pager:{page:1,pageSize:1e3}}}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.freightTemplateList=a.body.rows)})},getLogistics:function(){var t=this;this.axios.post(this.myConfig.code.proxy+"/logistics/logistics/queryType",{body:{languageCode:"cn",status:0}}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.logisticsList=a.body.logisticsTypes)})},formatterAudit:function(t,e,a){for(var i in this.myConfig.status.auditStatus)if(this.myConfig.status.auditStatus[i].val==a)return this.myConfig.status.auditStatus[i].label},getBrandList:function(){var t=this;"admin"==this.userType?this.axios.post(this.myConfig.code.proxy+"/goods/api/brand/list",{body:{}}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.brandsList=a.body.rows)}):this.axios.post("/proxy/fv/"+this.userType+"/goods.php?act=getSupplierBrand",{}).then(function(e){var a=e.data;t.brandsList=a.body.rows})},remoteGetBrand:function(t,e){var a=this.brandsList;e(t?a.filter(this.createFilter(t)):[])},createFilter:function(t){return function(e){return 0===e.brandName.toLowerCase().indexOf(t.toLowerCase())}},brandSelect:function(t){this.searchForm.brand_id=t.brandId},handleSelectionChange:function(t){this.selectData=t},doAction:function(t){this.actionType=t,this.goodsIds=[],this.goodsSns=[];for(var e in this.selectData)this.goodsIds.push(this.selectData[e].goods_id),this.goodsSns.push(this.selectData[e].goods_sn);if(0==this.goodsIds.length)return this.$message({message:"请选择商品",type:"error"}),!1;switch(this.actionType){case"onsale":case"unOnsale":this.doOnsale();break;case"locked":case"unLocked":this.doLocked();break;case"adminAudit":this.adminAudit();break;case"supplierAudit":this.supplierAudit("batch");break;case"logistic":this.logisticForm={price:"",logisticsTypeId:"",goodsIdRows:[]},this.dialogLogistic=!0;break;case"validityDate":this.dialogSetValidityDate=!0,this.dialogSetValidityDateType=0,this.validityDateMonth="2";break;case"delete":this.goodsDelete("batch");break;case"doCpa":this.dialogCpa=!0,this.$refs.cpaPush&&this.$refs.cpaPush.init();break;case"BatchEdit":this.$store.dispatch("setGoodsBatch",this.goodsIds),sessionStorage.setItem("batch",c()({gids:this.goodsIds})),window.open("/goods/batch-edit")}},submitCpa:function(){var t=this,e=this.$refs.cpaPush.cpaForm;if(0==e.cpaList.length)return this.$message({message:"请选择合作平台",type:"warning"}),!1;var a=[];for(var i in this.goodsIds)a.push({goodsId:this.goodsIds[i],goodsSn:this.goodsSns[i]});this.axios.post("/proxy/ec/cpa/goods/add",{body:{cpaCode:e.cpaList.join(","),list:a}}).then(function(e){var a=e.data;t.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error",duration:3e3}),t.dialogCpa=!1,t.getGoodsList()})},submitCpaCancel:function(){this.$refs.cpaPush.cpaForm.cpaSearch="",this.$refs.cpaPush.doCpaSearch()},searchValiditydate:function(){this.dialogValidityDate=!1,this.searchForm.is_on_sale="1",this.searchForm.sale_closing_date="2",this.getGoodsList()},setValiditydateAll:function(){this.dialogValidityDate=!1,this.dialogSetValidityDate=!0,this.dialogSetValidityDateType=1,this.validityDateMonth="2"},setValiditydate:function(){var t=this,e={};e.type=this.validityDateMonth,e.setAll=this.dialogSetValidityDateType,e.setAll||(e.gids=this.goodsIds.join()),this.axios.post("/proxy/fv/"+this.userType+"/goods.php?act=batchSetTimeGoods",{body:e}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error"}),"10000"==a.head.code&&(t.dialogSetValidityDate=!1,t.getGoodsList()))})},doLocked:function(){var t=this;this.axios.post("/proxy/fv/admin/goods.php?act=batchlock",{body:{gids:this.goodsIds.join(","),is_lock:"locked"==this.actionType?1:0}}).then(function(e){var a=e.data;t.$message({message:a.body.sub_msg,type:"10000"==a.head.code?"success":"error"}),"10000"==a.head.code&&t.getGoodsList()})},doOnsale:function(){var t=this;this.axios.post("/proxy/goods/api/syn/sale",{body:{goodsIds:this.goodsIds,isOnSale:"onsale"==this.actionType}}).then(function(e){var a=e.data;t.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error"}),"10000"==a.head.code&&t.getGoodsList()})},adminAudit:function(){this.adminAuditForm={supplierStatusTxt:"",auditStatus:"",cpaList:[]},this.$refs["cpaPush-a"]&&this.$refs["cpaPush-a"].init(),this.isIndeterminate=!1,this.cpaCheckAll=!1,this.dialogAdminAudit=!0,this.getCpaList()},getCpaList:function(){var t=this;this.axios.post("/proxy/ec/cpa/partners/select",{body:{active:1}}).then(function(e){var a=e.data;if("10000"==a.head.code){t.cpaList=a.body.list,t.cpaListAll=[];var i=!0,o=!1,s=void 0;try{for(var n,d=l()([].concat(r()(t.cpaList)).values());!(i=(n=d.next()).done);i=!0){var c=n.value;t.cpaListAll.push(c.code)}}catch(t){o=!0,s=t}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}}})},submitAdminAudit:function(){var t=this;if(!this.adminAuditForm.auditStatus||"3"==this.adminAuditForm.auditStatus&&""==this.adminAuditForm.supplierStatusTxt.trim())return this.$message({type:"error",message:"审核状态不能为空，审核不通过必须填写备注信息！"}),!1;this.adminAuditForm.goodsIds=this.goodsIds,this.adminAuditForm.userAccount=JSON.parse(window.localStorage.getItem("userInfo")).userAccount,this.axios.post("/proxy/goods/api/goods/audit",{body:this.adminAuditForm}).then(function(e){var a=e.data,i=[];for(var o in t.goodsIds)i.push({goodsId:t.goodsIds[o],goodsSn:t.goodsSns[o]});if("10000"==a.head.code){var s=t.$refs["cpaPush-a"].cpaForm;s.cpaList.length>0&&t.axios.post("/proxy/ec/cpa/goods/add",{body:{cpaCode:s.cpaList.join(","),list:i}}).then(function(e){var a=e.data;t.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error"})})}t.dialogAdminAudit=!1,t.getGoodsList()})},submitAdminAuditCancel:function(){this.$refs["cpaPush-a"].cpaForm.cpaSearch="",this.$refs["cpaPush-a"].doCpaSearch()},doSkip:function(t){var e=this;switch(this.skipType=t,this.skipType.type){case"shortcut":window.open("/vendor/goods-shortcut/"+("admin"==this.userType?"a":"s")+"/"+this.skipType.data.goods_id);break;case"show":case"adminAudit":window.open("/proxy/fv/"+this.userType+"/goods.php?act=product_audit&gid="+this.skipType.data.goods_id+"&type="+this.userType);break;case"supplierAudit":this.supplierAudit("single");break;case"edit":this.$router.push("/vendor/goods-add/edit?id="+this.skipType.data.goods_id+"&cate="+this.skipType.data.cat_id+"&status="+this.skipType.data.audit_status);break;case"copy":return void this.$confirm("您确定要复制该商品吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success",callback:function(t){"confirm"==t?e.axios.post("/proxy/fv/supplier/goods.php?act=checkHasErrorImage",{body:{goods_id:e.skipType.data.goods_id}}).then(function(t){"10000"==t.data.head.code&&e.$router.push("/vendor/goods-add/copy?id="+e.skipType.data.goods_id+"&cate="+e.skipType.data.cat_id)}):e.$message({type:"info",message:"已取消复制"})}});case"delete":this.goodsDelete("single")}},goodsDelete:function(t){var e=this,a="";a="single"==t?"此操作将删除该商品, 是否继续?":"上架、审核中和翻译中的商品不能被删除,将在所选删除列表中自动过滤！",this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=[];"single"==t?a.push(e.skipType.data.goods_id):a=e.goodsIds.concat(),e.axios.post("/proxy/goods/api/goods/delete/logic",{body:{goodsIds:a,isDelete:1}}).then(function(t){var a=t.data;e.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error"}),"10000"==a.head.code&&e.getGoodsList()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},supplierAudit:function(t){var e=this,a=[];"single"==t?a.push(this.skipType.data.goods_id):a=this.goodsIds.concat(),this.axios.post("/proxy/goods/api/goods/audit",{body:{goodsIds:a,auditStatus:1,userAccount:JSON.parse(window.localStorage.getItem("userInfo")).userAccount}}).then(function(t){var a=t.data;if(e.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error"}),"10000"==a.head.code){if(a.body.auditErrorGoodsSns.length>0){var i='<div class="content">\n                <div class="title" style="font-weight:700;color:#222;">以下编码的商品图片有错误，请修改后再提交审核</div>\n                <div class="list" style="word-break: break-all;">商品编码：'+a.body.auditErrorGoodsSns.join(";")+"</div>\n            </div>";e.$notify({type:"error",title:"警告",dangerouslyUseHTMLString:!0,customClass:"notice-audit-goods",message:i,duration:0,offset:400})}e.getGoodsList()}})},getGoodsValidityDate:function(){var t=this;this.axios.post("/proxy/fv/supplier/goods.php?act=getOutTimeGoods",{}).then(function(e){var a=e.data;a.body.number&&(t.validityDate.num=a.body.number,t.dialogValidityDate=!0)})},selectable:function(t){return"1"!=t.is_lock||"supplier"!=this.userType},getAreas:function(){var t=this;this.axios.post("/proxy/freight/api/area/list",{body:{}}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.areas=a.body.areas)})},showCpa:function(t){this.getCpaInfo(t)},getCpaInfo:function(t){var e=this;this.axios.post("/proxy/ec/cpa/goods/in",{body:{goodsIds:t}}).then(function(a){var i=a.data;if("10000"==i.head.code){var s=i.body.goodsCpaCode[t];e.axios.post("/proxy/goods/api/goods/detail",{body:{goodsId:t}}).then(function(t){var a=t.data;if("10000"==a.head.code){var i=o()(a.body.freightCpaPriceVoMap),r=[];for(var n in i)s.includes(i[n].cpaCode)&&r.push(i[n]);i=r;for(var l in i){var d=i[l];for(var c in e.cpaList)if(d.cpaCode==e.cpaList[c].code){d.cpaName=e.cpaList[c].name;break}for(var p in e.logisticsList)if(d.logisticsTypeCode==e.logisticsList[p].logisticsCode){d.logisticsName=e.logisticsList[p].logisticsName;break}for(var u in e.areas)for(var h in e.areas[u].children)if(d.freightAreaId==e.areas[u].children[h].id){d.areaName=e.areas[u].children[h].areaName;break}}e.cpaInfo=i,e.dialogCpaInfo=!0}})}})},getShopCountry:function(){var t=this;this.axios.post("/proxy/fv/"+this.userType+"/goods.php?act=getShippingCountry",{}).then(function(e){var a=e.data;"10000"==a.head.code&&(t.shopCountry=a.body.shipping_countries)})},showPreview:function(t){this.preview.color_images=t.color_images,this.preview.common_images=t.common_images,this.preview.dialogShowAllPic=!0},dialogShowAllPicClose:function(){this.preview.dialogShowAllPic=!1,this.preview={dialogShowAllPic:!1,color_images:[],common_images:[]}}},created:function(){if(this.initSearchForm(),"vendor-goods-list-audit"==this.$route.name?(this.searchForm.search_audit=1,this.goodsStatus="audit"):(this.searchForm.search_audit="",this.goodsStatus=""),"SYSTEM_OPERATOR"===JSON.parse(window.localStorage.getItem("userInfo")).institutionTypeId)this.userType="admin",this.pageSizeArr=[20,30,50,100,200,300,400,500],this.getGoodsManagers();else{this.userType="supplier",this.pageSizeArr=[20,30,50,100];var t=this.$route.query.notice;"allTerm"==t?(this.dialogSetValidityDate=!0,this.dialogSetValidityDateType=1,this.validityDateMonth="2",localStorage.setItem("hrf",c()({uri:"/goods/list",time:(new Date).getTime()}))):"batchTerm"==t&&(this.searchForm.is_on_sale="1",this.searchForm.sale_closing_date="2",this.getGoodsList(),localStorage.setItem("hrf",c()({uri:"/goods/list?",time:(new Date).getTime()})))}for(var e in this.$route.query)""!==this.$route.query[e]&&(this.searchForm[e]=this.$route.query[e],"search_audit"==e&&(this.searchForm[e]=parseInt(this.$route.query[e])));this.getLogistics(),this.getFreightTemplate(),this.getBrandList(),this.getCateList(),this.getGoodsList(),this.getCpaList(),this.getAreas(),this.getShopCountry()},watch:{$route:function(){this.initSearchForm(),"vendor-goods-list-audit"==this.$route.name?(this.searchForm.search_audit=1,this.goodsStatus="audit"):(this.searchForm.search_audit="",this.goodsStatus=""),"SYSTEM_OPERATOR"===JSON.parse(window.localStorage.getItem("userInfo")).institutionTypeId?(this.userType="admin",this.pageSizeArr=[20,30,50,100,200,300,400,500],this.getGoodsManagers()):(this.userType="supplier",this.pageSizeArr=[20,30,50,100]),this.getLogistics(),this.getFreightTemplate(),this.getBrandList(),this.getCateList(),this.getGoodsList(),this.getCpaList(),this.getAreas(),this.getShopCountry()}}}},887:function(t,e,a){e=t.exports=a(728)(!0),e.push([t.i,".search-btn{text-align:right;padding-bottom:10px;padding-right:20px}.search .search-top .el-textarea{width:190px;vertical-align:top;margin-left:-1px}.search .search-top .key-word-box{display:inline-block;padding-top:6px}.search .search-top .key-word .el-input__inner{height:28px;border-radius:4px 0 0 4px;width:110px;line-height:28px}.search .search-top .el-textarea__inner{min-height:20px!important;height:28px;margin-left:-3px;border-radius:0 4px 4px 0;padding:2px 5px}.search .search-top .price .el-input{display:inline-block;width:106px;vertical-align:top}.el-dropdown-goods-list{margin-left:-133px}.el-form-item-tip{color:#ff4949}.el-dropdown-goods-list li{font-size:14px;line-height:22px}.dialogLogistic .tip{line-height:normal}.dialogLogistic .el-input,.dialogLogistic .el-input__inner{width:auto}.dialogLogistic .el-input__inner{width:150px;display:line-block;height:26px;font-size:12px}.dialogLogistic .el-form-item{margin-bottom:10px}.el-loading-mask{z-index:500}.dialog-validitydate .el-dialog__footer{text-align:center}.dialog-validitydate .txt span{color:#ff4949;text-decoration:underline;font-size:24px}.dialog-validitydate .list{margin-left:30px;margin-bottom:15px}.dialogAdminAudit .el-dialog__body{height:300px;overflow-y:auto}.dialogAdminAudit textarea{width:50%;min-height:120px}.dialog-cpa .el-dialog__body{height:300px;overflow-y:auto}.el-tooltip__popper{display:none!important}.dialog-preview .el-dialog__body{padding-top:0;max-height:350px;overflow-y:auto}.dialog-preview .pic-all .pic-title{color:#222;font-weight:bolder;margin-bottom:5px}.dialog-preview .pic-all .pic-item{display:inline-block;width:100px;margin-bottom:15px;line-height:normal;text-align:center}.dialog-preview .pic-all .pic-item img{width:60px;height:60px;border:1px solid #ccc;border-radius:5px;padding:5px}","",{version:3,sources:["D:/mywebstorm/admin-sys/src/components/sys/goods/goods-list.vue"],names:[],mappings:"AACA,YACE,iBAAkB,AAClB,oBAAqB,AACrB,kBAAoB,CACrB,AACD,iCACE,YAAa,AACb,mBAAoB,AACpB,gBAAkB,CACnB,AACD,kCACE,qBAAsB,AACtB,eAAiB,CAClB,AACD,+CACE,YAAa,AACb,0BAA2B,AAC3B,YAAa,AACb,gBAAkB,CACnB,AACD,wCACE,0BAA4B,AAC5B,YAAa,AACb,iBAAkB,AAClB,0BAA6B,AAC7B,eAAiB,CAClB,AACD,qCACE,qBAAsB,AACtB,YAAa,AACb,kBAAoB,CACrB,AACD,wBACE,kBAAoB,CACrB,AACD,kBACE,aAAe,CAChB,AACD,2BACE,eAAgB,AAChB,gBAAkB,CACnB,AACD,qBACE,kBAAoB,CACrB,AACD,2DAEE,UAAY,CACb,AACD,iCACE,YAAa,AACb,mBAAoB,AACpB,YAAa,AACb,cAAgB,CACjB,AACD,8BACE,kBAAoB,CACrB,AACD,iBACE,WAAa,CACd,AACD,wCACE,iBAAmB,CACpB,AACD,+BACE,cAAe,AACf,0BAA2B,AAC3B,cAAgB,CACjB,AACD,2BACE,iBAAkB,AAClB,kBAAoB,CACrB,AACD,mCACE,aAAc,AACd,eAAiB,CAClB,AACD,2BACE,UAAW,AACX,gBAAkB,CACnB,AACD,6BACE,aAAc,AACd,eAAiB,CAClB,AACD,oBACE,sBAAyB,CAC1B,AACD,iCACE,cAAe,AACf,iBAAkB,AAClB,eAAiB,CAClB,AACD,oCACE,WAAY,AACZ,mBAAoB,AACpB,iBAAmB,CACpB,AACD,mCACE,qBAAsB,AACtB,YAAa,AACb,mBAAoB,AACpB,mBAAoB,AACpB,iBAAmB,CACpB,AACD,uCACE,WAAY,AACZ,YAAa,AACb,sBAAuB,AACvB,kBAAmB,AACnB,WAAa,CACd",file:"goods-list.vue",sourcesContent:["\n.search-btn {\n  text-align: right;\n  padding-bottom: 10px;\n  padding-right: 20px;\n}\n.search .search-top .el-textarea {\n  width: 190px;\n  vertical-align: top;\n  margin-left: -1px;\n}\n.search .search-top .key-word-box {\n  display: inline-block;\n  padding-top: 6px;\n}\n.search .search-top .key-word .el-input__inner {\n  height: 28px;\n  border-radius: 4px 0 0 4px;\n  width: 110px;\n  line-height: 28px;\n}\n.search .search-top .el-textarea__inner {\n  min-height: 20px !important;\n  height: 28px;\n  margin-left: -3px;\n  border-radius: 0px 4px 4px 0;\n  padding: 2px 5px;\n}\n.search .search-top .price .el-input {\n  display: inline-block;\n  width: 106px;\n  vertical-align: top;\n}\n.el-dropdown-goods-list {\n  margin-left: -133px;\n}\n.el-form-item-tip {\n  color: #ff4949;\n}\n.el-dropdown-goods-list li {\n  font-size: 14px;\n  line-height: 22px;\n}\n.dialogLogistic .tip {\n  line-height: normal;\n}\n.dialogLogistic .el-input,\n.dialogLogistic .el-input__inner {\n  width: auto;\n}\n.dialogLogistic .el-input__inner {\n  width: 150px;\n  display: line-block;\n  height: 26px;\n  font-size: 12px;\n}\n.dialogLogistic .el-form-item {\n  margin-bottom: 10px;\n}\n.el-loading-mask {\n  z-index: 500;\n}\n.dialog-validitydate .el-dialog__footer {\n  text-align: center;\n}\n.dialog-validitydate .txt span {\n  color: #ff4949;\n  text-decoration: underline;\n  font-size: 24px;\n}\n.dialog-validitydate .list {\n  margin-left: 30px;\n  margin-bottom: 15px;\n}\n.dialogAdminAudit .el-dialog__body {\n  height: 300px;\n  overflow-y: auto;\n}\n.dialogAdminAudit textarea {\n  width: 50%;\n  min-height: 120px;\n}\n.dialog-cpa .el-dialog__body {\n  height: 300px;\n  overflow-y: auto;\n}\n.el-tooltip__popper {\n  display: none !important;\n}\n.dialog-preview .el-dialog__body {\n  padding-top: 0;\n  max-height: 350px;\n  overflow-y: auto;\n}\n.dialog-preview .pic-all .pic-title {\n  color: #222;\n  font-weight: bolder;\n  margin-bottom: 5px;\n}\n.dialog-preview .pic-all .pic-item {\n  display: inline-block;\n  width: 100px;\n  margin-bottom: 15px;\n  line-height: normal;\n  text-align: center;\n}\n.dialog-preview .pic-all .pic-item img {\n  width: 60px;\n  height: 60px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  padding: 5px;\n}\n"],sourceRoot:""}])},888:function(t,e,a){e=t.exports=a(728)(!0),e.push([t.i,".wrap[data-v-c18c5e40]{padding-right:20px}.wrap .el-checkbox[data-v-c18c5e40]{width:200px;margin-left:0!important;line-height:normal}.wrap .el-checkbox .el-checkbox__label[data-v-c18c5e40]{width:150px;word-break:break-word;white-space:normal}.wrap .goods-list .td-goods-sn.s[data-v-c18c5e40]{cursor:pointer}.wrap .goods-list .td-goods-name[data-v-c18c5e40]{text-align:left;cursor:pointer}.wrap .goods-list .td-goods-name .img[data-v-c18c5e40]{border:1px solid #666;border-radius:4px;padding:3px;height:66px;background:#fff;position:relative}.wrap .goods-list .td-goods-name .img img[data-v-c18c5e40]{border-radius:2px}.wrap .goods-list .td-goods-name .img .show-all-pic[data-v-c18c5e40]{position:absolute;left:0;top:0;width:0}.wrap .goods-list .td-goods-name .img:hover .show-all-pic[data-v-c18c5e40]{width:auto}.wrap .goods-list .td-goods-name .txt[data-v-c18c5e40]{margin-left:80px}.wrap .goods-list .td-goods-price .iconfont[data-v-c18c5e40]{font-size:23px;display:inline-block;vertical-align:middle}.wrap .goods-list .td-goods-price .price-shop[data-v-c18c5e40]{margin-top:4px}.wrap .goods-list .td-goods-price .price-shop .iconfont[data-v-c18c5e40]{color:#3da8e5}.wrap .goods-list .td-goods-status .warning[data-v-c18c5e40]{color:#ff4949}.wrap .goods-list .td-goods-status .reason[data-v-c18c5e40]{cursor:pointer}.wrap .goods-list .td-goods-status .iconfont[data-v-c18c5e40]{font-size:12px!important;margin-right:6px}.wrap .pagination[data-v-c18c5e40]{margin-top:15px;text-align:right}.wrap .search .search-top .el-input__inner[data-v-c18c5e40]{height:28px}.wrap .doAction[data-v-c18c5e40]{padding-bottom:10px;padding-left:55px}.wrap .do-action[data-v-c18c5e40]{width:100%}.wrap .do-action .action[data-v-c18c5e40]{display:inline-block;width:60px;text-align:center;color:#0f3fcf;cursor:pointer;margin-left:10px;text-align:left}","",{version:3,sources:["D:/mywebstorm/admin-sys/src/components/sys/goods/goods-list.vue"],names:[],mappings:"AACA,uBACE,kBAAoB,CACrB,AACD,oCACE,YAAa,AACb,wBAAyB,AACzB,kBAAoB,CACrB,AACD,wDACE,YAAa,AACb,sBAAuB,AACvB,kBAAoB,CACrB,AACD,kDACE,cAAgB,CACjB,AACD,kDACE,gBAAiB,AACjB,cAAgB,CACjB,AACD,uDACE,sBAAuB,AACvB,kBAAmB,AACnB,YAAa,AACb,YAAa,AACb,gBAAiB,AACjB,iBAAmB,CACpB,AACD,2DACE,iBAAmB,CACpB,AACD,qEACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,OAAS,CACV,AACD,2EACE,UAAY,CACb,AACD,uDACE,gBAAkB,CACnB,AACD,6DACE,eAAgB,AAChB,qBAAsB,AACtB,qBAAuB,CACxB,AACD,+DACE,cAAgB,CACjB,AACD,yEACE,aAAe,CAChB,AACD,6DACE,aAAe,CAChB,AACD,4DACE,cAAgB,CACjB,AACD,8DACE,yBAA2B,AAC3B,gBAAkB,CACnB,AACD,mCACE,gBAAiB,AACjB,gBAAkB,CACnB,AACD,4DACE,WAAa,CACd,AACD,iCACE,oBAAqB,AACrB,iBAAmB,CACpB,AACD,kCACE,UAAY,CACb,AACD,0CACE,qBAAsB,AACtB,WAAY,AACZ,kBAAmB,AACnB,cAAe,AACf,eAAgB,AAChB,iBAAkB,AAClB,eAAiB,CAClB",file:"goods-list.vue",sourcesContent:["\n.wrap[data-v-c18c5e40] {\n  padding-right: 20px;\n}\n.wrap .el-checkbox[data-v-c18c5e40] {\n  width: 200px;\n  margin-left: 0!important;\n  line-height: normal;\n}\n.wrap .el-checkbox .el-checkbox__label[data-v-c18c5e40] {\n  width: 150px;\n  word-break: break-word;\n  white-space: normal;\n}\n.wrap .goods-list .td-goods-sn.s[data-v-c18c5e40] {\n  cursor: pointer;\n}\n.wrap .goods-list .td-goods-name[data-v-c18c5e40] {\n  text-align: left;\n  cursor: pointer;\n}\n.wrap .goods-list .td-goods-name .img[data-v-c18c5e40] {\n  border: 1px solid #666;\n  border-radius: 4px;\n  padding: 3px;\n  height: 66px;\n  background: #fff;\n  position: relative;\n}\n.wrap .goods-list .td-goods-name .img img[data-v-c18c5e40] {\n  border-radius: 2px;\n}\n.wrap .goods-list .td-goods-name .img .show-all-pic[data-v-c18c5e40] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 0;\n}\n.wrap .goods-list .td-goods-name .img:hover .show-all-pic[data-v-c18c5e40] {\n  width: auto;\n}\n.wrap .goods-list .td-goods-name .txt[data-v-c18c5e40] {\n  margin-left: 80px;\n}\n.wrap .goods-list .td-goods-price .iconfont[data-v-c18c5e40] {\n  font-size: 23px;\n  display: inline-block;\n  vertical-align: middle;\n}\n.wrap .goods-list .td-goods-price .price-shop[data-v-c18c5e40] {\n  margin-top: 4px;\n}\n.wrap .goods-list .td-goods-price .price-shop .iconfont[data-v-c18c5e40] {\n  color: #3da8e5;\n}\n.wrap .goods-list .td-goods-status .warning[data-v-c18c5e40] {\n  color: #ff4949;\n}\n.wrap .goods-list .td-goods-status .reason[data-v-c18c5e40] {\n  cursor: pointer;\n}\n.wrap .goods-list .td-goods-status .iconfont[data-v-c18c5e40] {\n  font-size: 12px !important;\n  margin-right: 6px;\n}\n.wrap .pagination[data-v-c18c5e40] {\n  margin-top: 15px;\n  text-align: right;\n}\n.wrap .search .search-top .el-input__inner[data-v-c18c5e40] {\n  height: 28px;\n}\n.wrap .doAction[data-v-c18c5e40] {\n  padding-bottom: 10px;\n  padding-left: 55px;\n}\n.wrap .do-action[data-v-c18c5e40] {\n  width: 100%;\n}\n.wrap .do-action .action[data-v-c18c5e40] {\n  display: inline-block;\n  width: 60px;\n  text-align: center;\n  color: #0F3FCF;\n  cursor: pointer;\n  margin-left: 10px;\n  text-align: left;\n}\n"],sourceRoot:""}])},934:function(t,e,a){var i=a(887);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(729)("795fe18e",i,!0)},935:function(t,e,a){var i=a(888);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(729)("161c5bfc",i,!0)},980:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap wrap-goods"},[a("div",{staticClass:"nav-bar clear-fix"},[a("el-breadcrumb",{staticClass:"fl-l",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("商品管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("商品列表")])],1)],1),t._v(" "),a("div",{staticClass:"search report"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm,"label-width":"80px"}},[a("div",{staticClass:"fold"},[a("span",{on:{click:function(e){t.fold?t.fold=!1:t.fold=!0}}},[t._v("查询"+t._s(t.fold?"折叠":"展开")+"\n            "),a("i",{class:t.fold?"iconfont icon-fold-open":"iconfont icon-fold-close"})])]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.fold?a("div",{staticClass:"item-list"},[a("div",{staticClass:"search-top"},[a("el-form-item",{staticClass:"price",attrs:{label:"价格"}},[a("el-input",{attrs:{size:"small"},on:{blur:function(e){t.validateFloat("search_price_min")}},model:{value:t.searchForm.search_price_min,callback:function(e){t.$set(t.searchForm,"search_price_min",e)},expression:"searchForm.search_price_min"}}),t._v(" - "),a("el-input",{on:{blur:function(e){t.validateFloat("search_price_max")}},model:{value:t.searchForm.search_price_max,callback:function(e){t.$set(t.searchForm,"search_price_max",e)},expression:"searchForm.search_price_max"}})],1),t._v(" "),a("el-form-item",{staticClass:"price",attrs:{label:"重量"}},[a("el-input",{attrs:{size:"small"},on:{blur:function(e){t.validateFloat("min_weight")}},model:{value:t.searchForm.min_weight,callback:function(e){t.$set(t.searchForm,"min_weight",e)},expression:"searchForm.min_weight"}}),t._v(" - "),a("el-input",{on:{blur:function(e){t.validateFloat("max_weight")}},model:{value:t.searchForm.max_weight,callback:function(e){t.$set(t.searchForm,"max_weight",e)},expression:"searchForm.max_weight"}})],1),t._v(" "),a("div",{staticClass:"key-word-box"},[a("el-select",{staticClass:"key-word",attrs:{slot:"prepend",placeholder:"选择关键字",clearable:"",size:"small"},slot:"prepend",model:{value:t.searchForm.search_type,callback:function(e){t.$set(t.searchForm,"search_type",e)},expression:"searchForm.search_type"}},["supplier"==t.userType?a("el-option",{attrs:{label:"英文名称",value:"9"}}):t._e(),t._v(" "),"supplier"==t.userType?a("el-option",{attrs:{label:"商品编码",value:"2"}}):t._e(),t._v(" "),"supplier"==t.userType?a("el-option",{attrs:{label:"商品货号",value:"7"}}):t._e(),t._v(" "),"supplier"==t.userType?a("el-option",{attrs:{label:"sku编码",value:"4"}}):t._e(),t._v(" "),"supplier"==t.userType?a("el-option",{attrs:{label:"sku货号",value:"8"}}):t._e(),t._v(" "),"admin"==t.userType?a("el-option",{attrs:{label:"商家编码",value:"6"}}):t._e(),t._v(" "),"admin"==t.userType?a("el-option",{attrs:{label:"英文名称",value:"9"}}):t._e(),t._v(" "),"admin"==t.userType?a("el-option",{attrs:{label:"商品编码",value:"2"}}):t._e(),t._v(" "),"admin"==t.userType?a("el-option",{attrs:{label:"商品ID",value:"3"}}):t._e(),t._v(" "),"admin"==t.userType?a("el-option",{attrs:{label:"sku编码",value:"4"}}):t._e(),t._v(" "),"admin"==t.userType?a("el-option",{attrs:{label:"sku ID",value:"5"}}):t._e()],1),t._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"admin"==t.userType?"商家编码/商品名称/编码/ID":"商品名称/编码/货号"},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1)],1),t._v(" "),"admin"==t.userType?a("el-form-item",{attrs:{label:"客户经理"}},[a("el-select",{attrs:{size:"small",clearable:"",filterable:""},model:{value:t.searchForm.goods_manager,callback:function(e){t.$set(t.searchForm,"goods_manager",e)},expression:"searchForm.goods_manager"}},t._l(t.goodsManagersList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"分类"}},[a("el-cascader",{attrs:{options:t.cateList,"change-on-select":"",props:t.props,filterable:"","show-all-levels":!1,clearable:""},on:{change:t.cateChange},model:{value:t.searchForm.cascader,callback:function(e){t.$set(t.searchForm,"cascader",e)},expression:"searchForm.cascader"}})],1),t._v(" "),""==t.goodsStatus?a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:t.searchForm.search_audit,callback:function(e){t.$set(t.searchForm,"search_audit",e)},expression:"searchForm.search_audit"}},t._l(t.myConfig.status.auditStatus,function(t){return a("el-option",{key:t.val,attrs:{value:t.val,label:t.label}})}))],1):t._e(),t._v(" "),"admin"==t.userType&&""==t.goodsStatus?a("el-form-item",{attrs:{label:"商品状态"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:t.searchForm.is_delete,callback:function(e){t.$set(t.searchForm,"is_delete",e)},expression:"searchForm.is_delete"}},[a("el-option",{attrs:{value:"1",label:"正常"}}),t._v(" "),a("el-option",{attrs:{value:"2",label:"已删除"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"商品品牌"}},["supplier"==t.userType?a("el-select",{attrs:{size:"small",clearable:""},model:{value:t.searchForm.brand_id,callback:function(e){t.$set(t.searchForm,"brand_id",e)},expression:"searchForm.brand_id"}},t._l(t.brandsList,function(t){return a("el-option",{key:t.brandId,attrs:{value:t.brandId,label:t.brandName}})})):t._e(),t._v(" "),"admin"==t.userType?a("el-autocomplete",{attrs:{"fetch-suggestions":t.remoteGetBrand,"trigger-on-focus":!1,size:"small","value-key":"brandName"},on:{select:t.brandSelect},model:{value:t.searchForm.brandName,callback:function(e){t.$set(t.searchForm,"brandName",e)},expression:"searchForm.brandName"}}):t._e()],1),t._v(" "),"admin"==t.userType?a("el-form-item",{attrs:{label:"物流方式"}},[a("el-select",{attrs:{size:"small",clearable:"",filterable:""},model:{value:t.searchForm.logis_way,callback:function(e){t.$set(t.searchForm,"logis_way",e)},expression:"searchForm.logis_way"}},t._l(t.logisticsList,function(t){return a("el-option",{key:t.logisticsCode,attrs:{value:t.logisticsCode,label:t.logisticsName}})}))],1):t._e(),t._v(" "),"admin"==t.userType?a("el-form-item",{attrs:{label:"合作平台"}},[a("el-select",{attrs:{size:"small",clearable:"",filterable:""},model:{value:t.searchForm.cpaCode,callback:function(e){t.$set(t.searchForm,"cpaCode",e)},expression:"searchForm.cpaCode"}},t._l(t.cpaList,function(t){return a("el-option",{key:t.code,attrs:{value:t.code,label:t.name}})}))],1):t._e(),t._v(" "),"supplier"==t.userType?a("el-form-item",{attrs:{label:"运费模板"}},[a("el-select",{attrs:{size:"small",clearable:"",filterable:""},model:{value:t.searchForm.freight_template_id,callback:function(e){t.$set(t.searchForm,"freight_template_id",e)},expression:"searchForm.freight_template_id"}},t._l(t.freightTemplateList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.templateTitle}})}))],1):t._e(),t._v(" "),"admin"==t.userType?a("el-form-item",{attrs:{label:"锁定状态"}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchForm.is_lock,callback:function(e){t.$set(t.searchForm,"is_lock",e)},expression:"searchForm.is_lock"}},[a("el-option",{attrs:{label:"已锁定",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未锁定",value:"0"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"库存量"}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchForm.is_qyt,callback:function(e){t.$set(t.searchForm,"is_qyt",e)},expression:"searchForm.is_qyt"}},[a("el-option",{attrs:{label:"有库存",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"无库存",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"上架状态"}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchForm.is_on_sale,callback:function(e){t.$set(t.searchForm,"is_on_sale",e)},expression:"searchForm.is_on_sale"}},[a("el-option",{attrs:{label:"上架",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品有效期"}},[a("el-select",{attrs:{clearable:""},model:{value:t.searchForm.sale_closing_date,callback:function(e){t.$set(t.searchForm,"sale_closing_date",e)},expression:"searchForm.sale_closing_date"}},[a("el-option",{attrs:{label:"3天内过期",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"7天内过期",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"30天内过期",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"已过期",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发货地"}},[a("el-select",{attrs:{size:"small",clearable:"",filterable:""},model:{value:t.searchForm.shipping_from,callback:function(e){t.$set(t.searchForm,"shipping_from",e)},expression:"searchForm.shipping_from"}},t._l(t.shopCountry,function(t){return a("el-option",{key:t.code,attrs:{value:t.code,label:t.name}})}))],1),t._v(" "),a("div",{staticClass:"search-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.search_smt}},[t._v("查询")]),t._v(" "),"admin"==t.userType&&t.authOps.includes("/api/goods/down/process")&&""==t.goodsStatus||"supplier"==t.userType?a("goods-export",{attrs:{search:t.searchForm,userType:t.userType}}):t._e()],1)],1):t._e()])],1)],1),t._v(" "),t.showBatch?a("div",{staticClass:"doAction"},[""==t.goodsStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("onsale")}}},[t._v("上架")]):t._e(),t._v(" "),""==t.goodsStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("unOnsale")}}},[t._v("下架")]):t._e(),t._v(" "),"admin"==t.userType&&""==t.goodsStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("locked")}}},[t._v("锁定")]):t._e(),t._v(" "),"admin"==t.userType&&""==t.goodsStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("unLocked")}}},[t._v("解锁")]):t._e(),t._v(" "),"admin"==t.userType&&"audit"==t.goodsStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("adminAudit")}}},[t._v("审核")]):t._e(),t._v(" "),"supplier"==t.userType?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("validityDate")}}},[t._v("延长有效期")]):t._e(),t._v(" "),"supplier"==t.userType&&"7"==t.selectStatus.goodsStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("supplierAudit")}}},[t._v("提交审核")]):t._e(),t._v(" "),"admin"==t.userType&&""==t.goodsStatus&&t.authOps.includes("/ec/cpa/goods/add-push")?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("doCpa")}}},[t._v("推送合作平台")]):t._e(),t._v(" "),"supplier"==t.userType?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("delete")}}},[t._v("删除")]):t._e(),t._v(" "),"supplier"==t.userType?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.doAction("BatchEdit")}}},[t._v("批量修改")]):t._e()],1):t._e(),t._v(" "),a("el-dialog",{staticClass:"dialogAdminAudit",attrs:{title:"商品批量审核",visible:t.dialogAdminAudit,width:"90%"},on:{"update:visible":function(e){t.dialogAdminAudit=e}}},[a("el-form",{attrs:{model:t.adminAuditForm,"label-width":"115px"}},[a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{clearable:"",size:"mini"},model:{value:t.adminAuditForm.auditStatus,callback:function(e){t.$set(t.adminAuditForm,"auditStatus",e)},expression:"adminAuditForm.auditStatus"}},[a("el-option",{attrs:{label:"审核通过",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"审核不通过",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"审核通过并跳过翻译",value:"5"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"审核备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.adminAuditForm.supplierStatusTxt,callback:function(e){t.$set(t.adminAuditForm,"supplierStatusTxt",e)},expression:"adminAuditForm.supplierStatusTxt"}})],1),t._v(" "),a("cpa-push",{ref:"cpaPush-a",attrs:{cpadata:t.cpaList}}),t._v(" "),t.adminAuditValidateText?a("el-form-item",{staticClass:"el-form-item-tip",attrs:{label:"提示:"}},[a("div",[t._v("审核状态不能为空，审核不通过必须填写备注信息！")])]):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.submitAdminAuditCancel}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitAdminAudit}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"dialog-cpa",attrs:{title:"商品批量推送",visible:t.dialogCpa,width:"90%"},on:{"update:visible":function(e){t.dialogCpa=e}}},[a("cpa-push",{ref:"cpaPush",attrs:{cpadata:t.cpaList}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.submitCpaCancel}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitCpa}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"dialog-validitydate",attrs:{title:"提示",visible:t.dialogValidityDate,top:"40%"},on:{"update:visible":function(e){t.dialogValidityDate=e}}},[a("div",{staticClass:"txt"},[t._v("您在售的产品中有 "),a("span",[t._v(t._s(t.validityDate.num))]),t._v("个即将过期的产品，产品过期将自动下架，请尽快处理！")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogValidityDate=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.searchValiditydate}},[t._v("批量处理")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.setValiditydateAll}},[t._v("全部处理")])],1)]),t._v(" "),a("el-dialog",{staticClass:"dialog-validitydate",attrs:{title:"延长有效期",visible:t.dialogSetValidityDate,top:"20vh"},on:{"update:visible":function(e){t.dialogSetValidityDate=e}}},[a("div",{staticClass:"list"},[a("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:t.validityDateMonth,callback:function(e){t.validityDateMonth=e},expression:"validityDateMonth"}},[t._v("有效期延长30天")])],1),t._v(" "),a("div",{staticClass:"list"},[a("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:t.validityDateMonth,callback:function(e){t.validityDateMonth=e},expression:"validityDateMonth"}},[t._v("有效期延长60天")])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogSetValidityDate=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.setValiditydate}},[t._v("确定")])],1)]),t._v(" "),a("el-dialog",{staticClass:"dialog-preview",attrs:{title:"",visible:t.preview.dialogShowAllPic,modal:!1,top:"40vh"},on:{"update:visible":function(e){t.$set(t.preview,"dialogShowAllPic",e)},close:t.dialogShowAllPicClose}},[a("div",{staticClass:"pic-all"},[a("div",{staticClass:"pic-box"},[a("div",{staticClass:"pic-title"},[t._v("属性图片")]),t._v(" "),a("div",{staticClass:"pic-list"},t._l(t.preview.color_images,function(e,i){return a("div",{key:i,staticClass:"pic-item"},[a("img",{attrs:{src:e.url,alt:""}}),t._v(" "),a("div",[t._v(t._s(e.color))])])})),t._v(" "),a("div",{staticClass:"pic-title"},[t._v("商品图片")]),t._v(" "),a("div",{staticClass:"pic-list"},t._l(t.preview.common_images,function(t,e){return a("div",{key:e,staticClass:"pic-item"},[a("img",{attrs:{src:t,alt:""}})])}))])])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"report goods-list",staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:"","max-height":"520",border:"",fit:!1,"tooltip-effect":"light"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",fixed:"left",selectable:t.selectable}}),t._v(" "),"admin"==t.userType?a("el-table-column",{attrs:{label:"商品ID",prop:"goods_id",align:"center","min-width":"120","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.goods_id))]),t._v(" "),a("i",{class:"iconfont icon-"+(1==e.row.is_lock?"locked danger":"unlocked primary"),attrs:{title:1==e.row.is_lock?"已锁定":"未锁定"}})]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"商品编码",prop:"goods_sn",align:"center","min-width":"120","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return["supplier"==t.userType?a("div",{staticClass:"td-goods-sn s",on:{click:function(a){t.doSkip({type:"show",data:e.row})}}},[a("span",{staticStyle:{color:"#0F3FCF"}},[t._v(t._s(e.row.goods_sn))]),t._v(" "),"supplier"==t.userType?a("i",{class:"iconfont icon-"+(1==e.row.is_lock?"locked danger":"unlocked primary"),attrs:{title:1==e.row.is_lock?"已锁定":"未锁定"}}):t._e()]):t._e(),t._v(" "),"admin"==t.userType?a("div",{staticClass:"td-goods-sn s",on:{click:function(a){t.doSkip({type:"show",data:e.row})}}},[a("span",{staticStyle:{color:"#0F3FCF"}},[t._v(t._s(e.row.goods_sn))])]):t._e()]}}])}),t._v(" "),"admin"==t.userType?a("el-table-column",{attrs:{label:"商家编码",prop:"supplier_code",align:"center","min-width":"120","show-overflow-tooltip":!0}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",prop:"goods_name",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return["supplier"==t.userType?a("div",{staticClass:"td-goods-name clear-fix s"},[a("div",{staticClass:"img fl-l"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.cover_img,expression:"scope.row.cover_img"}],attrs:{alt:"","min-width":"60",height:"60"}})]),t._v(" "),a("div",{staticClass:"txt"},[t._v(t._s(e.row.goods_name))])]):t._e(),t._v(" "),"admin"==t.userType&&""==t.goodsStatus?a("div",{staticClass:"td-goods-name clear-fix"},[a("div",{staticClass:"img fl-l"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.cover_img,expression:"scope.row.cover_img"}],attrs:{alt:"","min-width":"60",height:"60"}})]),t._v(" "),a("div",{staticClass:"txt"},[t._v(t._s(e.row.goods_name))])]):t._e(),t._v(" "),"admin"==t.userType&&"audit"==t.goodsStatus?a("div",{staticClass:"td-goods-name clear-fix"},[a("div",{staticClass:"img fl-l"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.cover_img,expression:"scope.row.cover_img"}],attrs:{alt:"","min-width":"60",height:"60"},on:{mouseover:function(a){t.showPreview(e.row)}}})]),t._v(" "),a("div",{staticClass:"txt"},[t._v(t._s(e.row.goods_name))])]):t._e()]}}])}),t._v(" "),"supplier"==t.userType?a("el-table-column",{attrs:{label:"商品货号",prop:"product_code",align:"center","min-width":"120","show-overflow-tooltip":!0}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"商品分类",prop:"cat_name",align:"center","min-width":"120","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"品牌名称",prop:"brand_name",align:"center","min-width":"120","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"原价|基础售价",prop:"market_price",align:"left","min-width":"120","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"td-goods-price"},[a("div",{staticClass:"price-market"},[a("i",{staticClass:"iconfont icon-yuan"}),t._v(t._s(e.row.market_price?parseFloat(e.row.market_price).toFixed(2):"")+"\n            ")]),t._v(" "),a("div",{staticClass:"price-shop"},[a("i",{staticClass:"iconfont icon-shou"}),t._v(t._s(e.row.shop_price?parseFloat(e.row.shop_price).toFixed(2):"")+"\n            ")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"SKU售价区间",prop:"product_code",align:"center","min-width":"150","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{style:e.row.max_price>3e3?"color:#ea2000;cursor:pointer;":"cursor:pointer;",on:{click:function(a){t.showSkuInfo(e.row.goods_id)}}},[t._v(t._s(e.row.min_price?parseFloat(e.row.min_price).toFixed(2):"")+"~"+t._s(e.row.max_price?parseFloat(e.row.max_price).toFixed(2):""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"重量(kg)",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[parseInt(e.row.goods_weight)>2e3?a("div",{staticStyle:{color:"#ea2000"}},[t._v(t._s(parseInt(e.row.goods_weight)/1e3)+"/kg")]):a("div",[t._v(t._s(parseInt(e.row.goods_weight)/1e3)+"/kg")])]}}])}),t._v(" "),"admin"==t.userType?a("el-table-column",{attrs:{label:"推送平台",prop:"cpa",align:"center",width:"180","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{on:{click:function(a){t.showCpa(e.row.goods_id)}}},[t._v(" "+t._s(e.row.cpa)+" ")])]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"库存",prop:"stock",align:"center","min-width":"120","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"上架状态",prop:"is_on_sale",align:"center","min-width":"120","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.is_on_sale?"已上架":"未上架"))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"有效期(天)",prop:"SCDM",align:"center","min-width":"160","show-overflow-tooltip":!0,sortable:""}}),t._v(" "),"supplier"==t.userType?a("el-table-column",{attrs:{label:"运费模板",prop:"freight_template_name",align:"center","min-width":"120","show-overflow-tooltip":!0}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"audit_status",align:"center","min-width":"120","show-overflow-tooltip":!0,"class-name":"td-goods-status"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:"3"==e.row.audit_status||"6"==e.row.audit_status?"txt warning":"txt"},[t._v(t._s(e.row.audit_status_name))]),t._v(" "),"3"==e.row.audit_status||"6"==e.row.audit_status?a("div",{staticClass:"reason"},[a("span",{attrs:{title:e.row.audit_status_reason}},[a("i",{staticClass:"iconfont icon-warning-out"}),t._v("查看原因")])]):t._e()]}}])}),t._v(" "),"admin"==t.userType?a("el-table-column",{attrs:{label:"商品状态",prop:"is_delete",align:"center",width:"120","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("is_delete")(e.row.is_delete))+"\n          ")]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left",width:"170",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"do-action"},[""!=t.goodsStatus||"supplier"==t.userType&&"1"==e.row.is_lock?t._e():a("span",{staticClass:"action",on:{click:function(a){t.doSkip({type:"shortcut",data:e.row})}}},[t._v("免审编辑")]),t._v(" "),"supplier"==t.userType&&"0"==e.row.is_lock?a("span",{staticClass:"action",on:{click:function(a){t.doSkip({type:"edit",data:e.row})}}},[t._v("编辑")]):t._e(),t._v(" "),"supplier"==t.userType&&"7"==e.row.audit_status&&"0"==e.row.is_lock?a("span",{staticClass:"action",on:{click:function(a){t.doSkip({type:"supplierAudit",data:e.row})}}},[t._v("提交审核")]):t._e(),t._v(" "),"supplier"==t.userType?a("span",{staticClass:"action",on:{click:function(a){t.doSkip({type:"copy",data:e.row})}}},[t._v("复制")]):t._e(),t._v(" "),"admin"==t.userType&&"1"==e.row.audit_status?a("span",{staticClass:"action",on:{click:function(a){t.doSkip({type:"adminAudit",data:e.row})}}},[t._v("审核")]):t._e(),t._v(" "),"0"!=e.row.is_on_sale||"1"==e.row.audit_status||"2"==e.row.audit_status||"supplier"==t.userType&&"1"==e.row.is_lock?t._e():a("span",{staticClass:"action",on:{click:function(a){t.doSkip({type:"delete",data:e.row})}}},[t._v("删除")])])]}}])})],1),t._v(" "),Math.ceil(t.total/t.myConfig.pageRows)>1?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.searchForm.pageNum,"page-sizes":t.pageSizeArr,"page-size":t.searchForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情",visible:t.dialogCpaInfo},on:{"update:visible":function(e){t.dialogCpaInfo=e}}},[a("el-table",{attrs:{data:t.cpaInfo,border:"",stripe:"","max-height":"400"}},[a("el-table-column",{attrs:{prop:"cpaName",label:"推送平台"}}),t._v(" "),a("el-table-column",{attrs:{property:"areaName",label:"关联区域/国家"}}),t._v(" "),a("el-table-column",{attrs:{property:"logisticsName",label:"物流方式"}}),t._v(" "),a("el-table-column",{attrs:{label:"运费(USD)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((e.row.freight/100).toFixed(2)))]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"dialog-skuinfo",attrs:{title:"sku详情",visible:t.dialogSkuInfo},on:{"update:visible":function(e){t.dialogSkuInfo=e}}},[a("el-table",{attrs:{data:t.skuInfoList,border:"",stripe:"","max-height":"400"}},[a("el-table-column",{attrs:{prop:"product_sn",label:"sku编码",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"product_title",label:"sku货号",width:"150"}}),t._v(" "),a("el-table-column",{staticClass:"attrs",attrs:{label:"属性"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.price_attrs,function(e,i){return a("div",{key:i,staticClass:"item"},[t._v("\n              "+t._s(e.attr_name)+":"+t._s(e.attr_value)+"\n            ")])})}}])}),t._v(" "),a("el-table-column",{attrs:{property:"product_price",label:"价格",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{property:"product_number",label:"库存",width:"100"}})],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=4.a43a823dc68308a1e2d3.js.map