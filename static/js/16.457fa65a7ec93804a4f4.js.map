{"version":3,"sources":["webpack:///static/js/16.457fa65a7ec93804a4f4.js","webpack:///./src/components/sys/goods/cpa-push.vue?a46c","webpack:///cpa-push.vue?cda2","webpack:///./src/components/sys/goods/cpa-push.vue?ad0d*","webpack:///./src/components/sys/goods/cpa-push.vue?bb6e*","webpack:///./src/components/sys/goods/cpa-push.vue?42be*","webpack:///goods-export.vue","webpack:///./src/components/sys/goods/goods-export.vue?955d","webpack:///./src/components/sys/goods/goods-export.vue?3175","webpack:///./src/components/sys/goods/goods-export.vue","webpack:///./src/components/sys/goods/goods-export.vue?7ff7"],"names":["webpackJsonp","768","module","exports","__webpack_require__","injectStyle","ssrContext","Component","769","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","data","cpaForm","cpaSearch","cpaList","cpaSortListAll","cpaSortList","isIndeterminate","checkAll","props","methods","init","this","doCpaSearch","_this","list","JSON","parse","key","i","it","arr","item","concat","filter","val","name","toLowerCase","indexOf","trim","handleCheckAllChange","j","push","code","handleCheckedChange","checkedCount","length","created","cpadata","arrUnique","show","cate","split","includes","index","findIndex","cpaChecked","watch","777","version","sources","names","mappings","file","sourcesContent","sourceRoot","780","content","locals","783","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","size","clearable","on","change","model","callback","$$v","$set","expression","slot","staticStyle","padding-left","indeterminate","_l","_s","item2","label","_e","staticRenderFns","802","goodsLoad","linkList","dialogLink","loading","timer","dialogForm","processType","computed","downloadkey","head","timeStamp","format","asString","Date","body","search","handldBeforeUpload","handleSuccess","res","$message","success","_html","sub_msg","$alert","dangerouslyUseHTMLString","customClass","error","download","$confirm","confirmButtonText","cancelButtonText","type","then","document","getElementById","submit","catch","message","search_export","_this2","params","axios","post","showClose","duration","showProgress","_this3","clearInterval","get","rows","setInterval","setTimeout","closeDialog","filters","filterStatus","str","window","858","905","945","954","userType","click","action","accept","on-success","before-upload","show-file-list","$event","display","src","frameborder","method","id","target","domProps","title","visible","width","update:visible","close","directives","rawName","border","stripe","max-height","prop","scopedSlots","_u","fn","scope","_f","row","status","min-width","color","href","url","fileName","text-algin"],"mappings":"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","file":"static/js/16.457fa65a7ec93804a4f4.js","sourcesContent":["webpackJsonp([16],{\n\n/***/ 768:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(780)\n}\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(769),\n  /* template */\n  __webpack_require__(783),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 769:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            cpaForm: {\n                cpaSearch: '',\n                cpaList: []\n            },\n            cpaSortListAll: [],\n            cpaSortList: [],\n            isIndeterminate: false,\n            checkAll: false\n\n        };\n    },\n\n    props: [\"cpadata\", \"cpaChecked\"],\n    methods: {\n        init: function init() {\n            this.cpaForm = {\n                cpaSearch: '',\n                cpaList: []\n            };\n            this.isIndeterminate = false;\n            this.checkAll = false;\n            this.doCpaSearch();\n        },\n        doCpaSearch: function doCpaSearch() {\n            var _this = this;\n\n            var list = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({ key: this.cpaSortListAll })).key;\n            for (var i in list) {\n                var it = list[i];\n                var arr = it.item.concat([]);\n                it.item = arr.filter(function (val) {\n                    return val.name.toLowerCase().indexOf(_this.cpaForm.cpaSearch.trim().toLowerCase()) > -1;\n                });\n            }\n            this.cpaSortList = list;\n            // this.handleCheckedChange(this.cpaForm.cpaList)\n        },\n        handleCheckAllChange: function handleCheckAllChange(val) {\n            var arr = [];\n            for (var i in this.cpaSortList) {\n                for (var j in this.cpaSortList[i].item) {\n                    arr.push(this.cpaSortList[i].item[j].code);\n                }\n            }\n            this.cpaForm.cpaList = val ? arr : [];\n            this.isIndeterminate = false;\n        },\n        handleCheckedChange: function handleCheckedChange(value) {\n            var arr = [];\n            for (var i in this.cpaSortList) {\n                for (var j in this.cpaSortList[i].item) {\n                    arr.push(this.cpaSortList[i].item[j].code);\n                }\n            }\n            var checkedCount = value.length;\n            this.checkAll = checkedCount === arr.length;\n            this.isIndeterminate = checkedCount > 0 && checkedCount < arr.length;\n        }\n    },\n    created: function created() {\n        if (this.cpadata.length > 0) {\n            var list = this.cpadata.concat([]);\n            var arr = [];\n            this.cpaSortListAll = [];\n            var arrUnique = [];\n\n            var _loop = function _loop(i) {\n                var item = list[i];\n                item.show = true;\n                var cate = item.name.split('-')[0];\n                if (!arrUnique.includes(cate)) {\n                    arrUnique.push(cate);\n                    arr.push({ cate: cate, item: [] });\n                }\n                var index = arrUnique.findIndex(function (val) {\n                    return val == cate;\n                });\n                arr[index].item.push(item);\n            };\n\n            for (var i in list) {\n                _loop(i);\n            }\n            this.cpaSortList = arr;\n            this.cpaSortListAll = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({ key: arr })).key;\n        }\n\n        if (this.cpaChecked.length > 0) {\n            this.init();\n            this.cpaForm.cpaList = this.cpaChecked;\n            this.isIndeterminate = true;\n            this.checkAll = this.cpaChecked === this.cpadata.length;\n        } else {\n            this.init();\n            this.cpaForm.cpaList = this.cpaChecked;\n        }\n    },\n\n    watch: {\n        cpaChecked: function cpaChecked(val) {\n            this.init();\n            this.cpaForm.cpaList = val;\n            this.checkAll = this.cpaChecked === this.cpadata.length;\n            this.isIndeterminate = this.cpaChecked > 0 && this.cpaChecked < this.cpadata.length;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 777:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(728)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".cpa-form .el-checkbox{margin-bottom:10px;width:215px;margin-right:10px}.cpa-form .el-checkbox__label{font-size:14px;padding-left:5px;word-break:break-all;display:inline-block;width:195px;height:auto;vertical-align:top;word-wrap:break-word;white-space:normal;text-align:left}.cpa-form .el-checkbox__input{vertical-align:top;margin-top:4px}.cpa-form .list-item{margin-bottom:10px;position:relative;padding-left:120px}.cpa-form .list-item .item{padding:0}.cpa-form .list-item .item-label{position:absolute;top:0;left:10px;width:100px;word-break:break-all;word-wrap:break-word;white-space:normal;text-align:right;font-size:12px;font-weight:700;color:#222;margin-top:0;line-height:normal}.cpa-form .search-bar{margin-bottom:15px}.cpa-form .search-bar .bar-name{width:110px;display:inline-block;text-align:right}.cpa-form .search-bar .el-input--small{width:250px;margin-left:6px}.cpa-form .el-checkbox+.el-checkbox{margin-left:0}\", \"\", {\"version\":3,\"sources\":[\"D:/mywebstorm/admin-sys/src/components/sys/goods/cpa-push.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,mBAAoB,AACpB,YAAa,AACb,iBAAmB,CACpB,AACD,8BACE,eAAgB,AAChB,iBAAkB,AAClB,qBAAsB,AACtB,qBAAsB,AACtB,YAAa,AACb,YAAa,AACb,mBAAoB,AACpB,qBAAsB,AACtB,mBAAqB,AACrB,eAAiB,CAClB,AACD,8BACE,mBAAoB,AACpB,cAAgB,CACjB,AACD,qBACE,mBAAoB,AACpB,kBAAmB,AACnB,kBAAoB,CACrB,AACD,2BACE,SAAW,CACZ,AACD,iCACE,kBAAmB,AACnB,MAAS,AACT,UAAW,AACX,YAAa,AACb,qBAAsB,AACtB,qBAAsB,AACtB,mBAAqB,AACrB,iBAAkB,AAClB,eAAgB,AAChB,gBAAiB,AACjB,WAAY,AACZ,aAAgB,AAChB,kBAAoB,CACrB,AACD,sBACE,kBAAoB,CACrB,AACD,gCACE,YAAa,AACb,qBAAsB,AACtB,gBAAkB,CACnB,AACD,uCACE,YAAa,AACb,eAAiB,CAClB,AACD,oCACE,aAAe,CAChB\",\"file\":\"cpa-push.vue\",\"sourcesContent\":[\"\\n.cpa-form .el-checkbox {\\n  margin-bottom: 10px;\\n  width: 215px;\\n  margin-right: 10px;\\n}\\n.cpa-form .el-checkbox__label {\\n  font-size: 14px;\\n  padding-left: 5px;\\n  word-break: break-all;\\n  display: inline-block;\\n  width: 195px;\\n  height: auto;\\n  vertical-align: top;\\n  word-wrap: break-word;\\n  white-space: initial;\\n  text-align: left;\\n}\\n.cpa-form .el-checkbox__input {\\n  vertical-align: top;\\n  margin-top: 4px;\\n}\\n.cpa-form .list-item {\\n  margin-bottom: 10px;\\n  position: relative;\\n  padding-left: 120px;\\n}\\n.cpa-form .list-item .item {\\n  padding: 0;\\n}\\n.cpa-form .list-item .item-label {\\n  position: absolute;\\n  top: 0px;\\n  left: 10px;\\n  width: 100px;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n  white-space: initial;\\n  text-align: right;\\n  font-size: 12px;\\n  font-weight: 700;\\n  color: #222;\\n  margin-top: 0px;\\n  line-height: normal;\\n}\\n.cpa-form .search-bar {\\n  margin-bottom: 15px;\\n}\\n.cpa-form .search-bar .bar-name {\\n  width: 110px;\\n  display: inline-block;\\n  text-align: right;\\n}\\n.cpa-form .search-bar .el-input--small {\\n  width: 250px;\\n  margin-left: 6px;\\n}\\n.cpa-form .el-checkbox + .el-checkbox {\\n  margin-left: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 780:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(777);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(729)(\"20a2c7cd\", content, true);\n\n/***/ }),\n\n/***/ 783:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"wrap-cpa-push\"\n  }, [_c('div', {\n    staticClass: \"cpa-form\"\n  }, [_c('div', {\n    staticClass: \"search-bar\"\n  }, [_c('span', {\n    staticClass: \"bar-name\"\n  }, [_vm._v(\"合作平台\")]), _vm._v(\" \"), _c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\",\n      \"size\": \"small\",\n      \"clearable\": \"\"\n    },\n    on: {\n      \"change\": _vm.doCpaSearch\n    },\n    model: {\n      value: (_vm.cpaForm.cpaSearch),\n      callback: function($$v) {\n        _vm.$set(_vm.cpaForm, \"cpaSearch\", $$v)\n      },\n      expression: \"cpaForm.cpaSearch\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"checked-all\",\n    staticStyle: {\n      \"padding-left\": \"118px\"\n    }\n  }, [_c('el-checkbox', {\n    attrs: {\n      \"indeterminate\": _vm.isIndeterminate\n    },\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(\"全选\")])], 1), _vm._v(\" \"), _c('el-checkbox-group', {\n    on: {\n      \"change\": _vm.handleCheckedChange\n    },\n    model: {\n      value: (_vm.cpaForm.cpaList),\n      callback: function($$v) {\n        _vm.$set(_vm.cpaForm, \"cpaList\", $$v)\n      },\n      expression: \"cpaForm.cpaList\"\n    }\n  }, _vm._l((_vm.cpaSortList), function(item) {\n    return (item.item.length > 0) ? _c('div', {\n      key: item.cate,\n      staticClass: \"list-item\"\n    }, [_c('div', {\n      staticClass: \"item-label\"\n    }, [_vm._v(_vm._s(item.cate))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, _vm._l((item.item), function(item2) {\n      return _c('el-checkbox', {\n        key: item2.code,\n        attrs: {\n          \"label\": item2.code\n        }\n      }, [_vm._v(\"\\r\\n                    \" + _vm._s(item2.name))])\n    }))]) : _vm._e()\n  }))], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 802:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: ['search', 'userType'],\n    data: function data() {\n        return {\n            goodsLoad: false,\n            linkList: [],\n            dialogLink: false,\n            loading: true,\n            timer: '',\n            dialogForm: false,\n            processType: '1'\n\n        };\n    },\n\n    computed: {\n        downloadkey: function downloadkey() {\n\n            return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({ \"head\": {\n                    \"version\": \"1.0.0\", //版本控制\n                    \"timeStamp\": this.format.asString('yyyyMMddhhmmss', new Date())\n                }, body: JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.search)) });\n        }\n    },\n    methods: {\n        handldBeforeUpload: function handldBeforeUpload() {\n            this.goodsLoad = true;\n        },\n        handleSuccess: function handleSuccess(res) {\n            this.goodsLoad = false;\n            if (res.head.code == '10000') {\n                this.$message.success(\"商品导入成功！\");\n            } else if (res.head.code == '40001') {\n                var _html = '';\n                var arr = res.body.sub_msg.split(';');\n                for (var i in arr) {\n                    if (arr[i] != '') {\n                        _html += '<div>' + arr[i] + '</div>';\n                    }\n                }\n                this.$alert('<div>' + _html + '</div>', '错误提示', {\n                    dangerouslyUseHTMLString: true,\n                    customClass: 'message-goods-import'\n                });\n            } else {\n                this.$message.error(res.body.sub_msg);\n            }\n        },\n        download: function download() {\n            var _this = this;\n\n            this.$confirm('您确定要导出此商品？', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'success'\n            }).then(function () {\n                document.getElementById('form-download').submit();\n            }).catch(function () {\n                _this.$message({\n                    type: 'info',\n                    message: '已取消'\n                });\n            });\n        },\n        search_export: function search_export() {\n            var _this2 = this;\n\n            this.dialogForm = false;\n            var params = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.search));\n            params.processType = this.processType;\n            this.axios.post('/proxy/goods-upload/api/goods/down/process', { body: params }).then(function (res) {\n                var data = res.data;\n                if (data.head.code == '10000') {\n                    _this2.$message({\n                        message: '商品正在导出,可点击查看进度按钮，查看导出进度',\n                        type: 'success',\n                        showClose: true,\n                        duration: 5000\n                    });\n                }\n            });\n        },\n        showProgress: function showProgress() {\n            var _this3 = this;\n\n            clearInterval(this.timer);\n            this.loading = true;\n            this.axios.get('/proxy/goods-upload/api/goods/down/info', {}).then(function (res) {\n                var data = res.data;\n                _this3.loading = false;\n                _this3.dialogLink = true;\n                if (data.head.code == '10000') {\n                    _this3.linkList = data.body.rows;\n                }\n            });\n            this.timer = setInterval(function () {\n                _this3.loading = true;\n                setTimeout(function () {\n                    _this3.axios.get('/proxy/goods-upload/api/goods/down/info', {}).then(function (res) {\n                        var data = res.data;\n                        _this3.loading = false;\n                        _this3.dialogLink = true;\n                        if (data.head.code == '10000') {\n                            _this3.linkList = data.body.rows;\n                        }\n                    });\n                }, 200);\n            }, 5000);\n        },\n        closeDialog: function closeDialog() {\n            clearInterval(this.timer);\n        }\n    },\n    filters: {\n        filterStatus: function filterStatus(val) {\n            var str = '';\n            switch (val) {\n                case 0:\n                    str = '生成中';\n                    break;\n                case 1:\n                    str = '已生成';\n                    break;\n                case 2:\n                    str = '生成失败,请重新生成';\n                    break;\n\n            }\n            return str;\n        }\n    },\n    created: function created() {\n        window.$message = this.$message;\n    }\n});\n\n/***/ }),\n\n/***/ 858:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(728)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".wrap-goods-export{display:inline-block}.wrap-goods-export .el-dialog__header{text-align:left}.wrap-goods-export .el-dialog__body,.wrap-goods-export .el-dialog__footer{text-align:center}.wrap-goods-export .radio1{margin-right:100px}.wrap-goods-export .upload-goods{display:inline-block}.message-goods-import .el-message-box__message{max-height:300px;overflow-y:auto}\", \"\", {\"version\":3,\"sources\":[\"D:/mywebstorm/admin-sys/src/components/sys/goods/goods-export.vue\"],\"names\":[],\"mappings\":\"AACA,mBACE,oBAAsB,CACvB,AACD,sCACE,eAAiB,CAClB,AACD,0EAEE,iBAAmB,CACpB,AACD,2BACE,kBAAoB,CACrB,AACD,iCACE,oBAAsB,CACvB,AACD,+CACE,iBAAkB,AAClB,eAAiB,CAClB\",\"file\":\"goods-export.vue\",\"sourcesContent\":[\"\\n.wrap-goods-export {\\n  display: inline-block;\\n}\\n.wrap-goods-export .el-dialog__header {\\n  text-align: left;\\n}\\n.wrap-goods-export .el-dialog__footer,\\n.wrap-goods-export .el-dialog__body {\\n  text-align: center;\\n}\\n.wrap-goods-export .radio1 {\\n  margin-right: 100px;\\n}\\n.wrap-goods-export .upload-goods {\\n  display: inline-block;\\n}\\n.message-goods-import .el-message-box__message {\\n  max-height: 300px;\\n  overflow-y: auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 905:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(858);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(729)(\"02a965a2\", content, true);\n\n/***/ }),\n\n/***/ 945:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(905)\n}\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(802),\n  /* template */\n  __webpack_require__(954),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 954:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"wrap-goods-export\"\n  }, [(_vm.userType == 'supplier') ? _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.download\n    }\n  }, [_vm._v(\"导出\")]) : _vm._e(), _vm._v(\" \"), (_vm.userType == 'supplier') ? _c('el-upload', {\n    staticClass: \"upload-goods\",\n    attrs: {\n      \"action\": \"/proxy/goods-upload/api/goods/uploadgoodsskuinfo\",\n      \"accept\": 'file/file.xls',\n      \"on-success\": _vm.handleSuccess,\n      \"before-upload\": _vm.handldBeforeUpload,\n      \"show-file-list\": false\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"success\",\n      \"loading\": _vm.goodsLoad\n    }\n  }, [_vm._v(\"导入更新\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.userType == 'admin') ? _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogForm = true\n      }\n    }\n  }, [_vm._v(\"导出\")]) : _vm._e(), _vm._v(\" \"), (_vm.userType == 'admin') ? _c('el-button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.showProgress\n    }\n  }, [_vm._v(\"查看进度\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-download\"\n  }, [_c('iframe', {\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"src\": \"\",\n      \"frameborder\": \"0\",\n      \"name\": \"msg-iframe\"\n    }\n  }), _vm._v(\" \"), _c('form', {\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"action\": \"/proxy/fv/supplier/goods.php?act=downloadGoodsSkuList\",\n      \"method\": \"post\",\n      \"id\": \"form-download\",\n      \"target\": \"msg-iframe\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"data\",\n      \"id\": \"form-data\"\n    },\n    domProps: {\n      \"value\": _vm.downloadkey\n    }\n  }), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"submit\")])])]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"商品导出进度\",\n      \"visible\": _vm.dialogLink,\n      \"width\": \"80%\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogLink = $event\n      },\n      \"close\": _vm.closeDialog\n    }\n  }, [_c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"report\",\n    attrs: {\n      \"data\": _vm.linkList,\n      \"border\": \"\",\n      \"stripe\": \"\",\n      \"max-height\": \"400\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"downTime\",\n      \"label\": \"生成时间\",\n      \"width\": \"150\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"状态\",\n      \"width\": \"150\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_vm._v(\"\\n                  \" + _vm._s(_vm._f(\"filterStatus\")(scope.row.status)) + \"\\n              \")]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"number\",\n      \"label\": \"生成数量\",\n      \"width\": \"150\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"fileName\",\n      \"label\": \"文件名称\",\n      \"min-width\": \"280\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    staticClass: \"download\",\n    attrs: {\n      \"prop\": \"url\",\n      \"label\": \"下载\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.status == 1) ? _c('a', {\n          staticStyle: {\n            \"color\": \"#20A0FF\"\n          },\n          attrs: {\n            \"href\": scope.row.url,\n            \"target\": \"_blank\",\n            \"download\": scope.row.fileName\n          }\n        }, [_vm._v(\"点击下载\")]) : _vm._e()]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    staticStyle: {\n      \"text-algin\": \"center\"\n    },\n    attrs: {\n      \"title\": \"请选择导出格式\",\n      \"visible\": _vm.dialogForm\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogForm = $event\n      }\n    }\n  }, [_c('el-radio', {\n    staticClass: \"radio1\",\n    attrs: {\n      \"label\": \"1\"\n    },\n    model: {\n      value: (_vm.processType),\n      callback: function($$v) {\n        _vm.processType = $$v\n      },\n      expression: \"processType\"\n    }\n  }, [_vm._v(\"SKU竖排\")]), _vm._v(\" \"), _c('el-radio', {\n    staticClass: \"radio\",\n    attrs: {\n      \"label\": \"2\"\n    },\n    model: {\n      value: (_vm.processType),\n      callback: function($$v) {\n        _vm.processType = $$v\n      },\n      expression: \"processType\"\n    }\n  }, [_vm._v(\"SKU横排\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogForm = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.search_export\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/16.457fa65a7ec93804a4f4.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14add59e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=styles&index=0!./cpa-push.vue\")\n}\nvar Component = require(\"!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=script&index=0!./cpa-push.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14add59e\\\"}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=template&index=0!./cpa-push.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sys/goods/cpa-push.vue\n// module id = 768\n// module chunks = 1 16","<template>\r\n<div class=\"wrap-cpa-push\">\r\n    <div class=\"cpa-form\" > \r\n        <div class=\"search-bar\">\r\n            <span class=\"bar-name\">合作平台</span>\r\n            <el-input placeholder=\"搜索\" v-model=\"cpaForm.cpaSearch\" @change=\"doCpaSearch\" size=\"small\" clearable>\r\n                <i slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\r\n            </el-input>\r\n        </div> \r\n        <div class=\"checked-all\" style=\"padding-left:118px;\"> \r\n            <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n        </div>       \r\n        <el-checkbox-group v-model=\"cpaForm.cpaList\"  @change=\"handleCheckedChange\">\r\n            <div class=\"list-item\" v-for=\"item in cpaSortList\" :key=\"item.cate\" v-if=\"item.item.length>0\">\r\n                <div class=\"item-label\" >{{item.cate}}</div>\r\n                <div class=\"item\">\r\n                    <el-checkbox :label=\"item2.code\"  v-for=\"item2 in item.item\" :key=\"item2.code\" >\r\n                    {{item2.name}}</el-checkbox>  \r\n                </div>\r\n            </div>         \r\n        </el-checkbox-group>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n      return{\r\n          cpaForm:{\r\n              cpaSearch:'',\r\n              cpaList:[],\r\n          },\r\n          cpaSortListAll:[],\r\n          cpaSortList:[],\r\n          isIndeterminate:false,\r\n          checkAll:false,\r\n\r\n      }\r\n  },\r\n  props:[\"cpadata\",\"cpaChecked\"],\r\n  methods: {\r\n    init(){\r\n       this.cpaForm= {\r\n            cpaSearch:'',\r\n            cpaList:[],\r\n        }\r\n        this.isIndeterminate=false;\r\n        this.checkAll=false;\r\n        this.doCpaSearch();\r\n    },\r\n    doCpaSearch(){\r\n        let list=JSON.parse(JSON.stringify({key: this.cpaSortListAll})).key;\r\n        for(let i in list){\r\n            let it=list[i];\r\n            let arr=it.item.concat([]);\r\n            it.item=arr.filter(val=>{\r\n                return val.name.toLowerCase().indexOf(this.cpaForm.cpaSearch.trim().toLowerCase())>-1\r\n            })\r\n        }\r\n        this.cpaSortList=list;\r\n        // this.handleCheckedChange(this.cpaForm.cpaList)\r\n    },\r\n    handleCheckAllChange(val){\r\n        let arr=[];\r\n        for(let i in this.cpaSortList){\r\n            for(let j in this.cpaSortList[i].item){\r\n                arr.push(this.cpaSortList[i].item[j].code)\r\n            }\r\n        }\r\n        this.cpaForm.cpaList = val ? arr : [];\r\n        this.isIndeterminate = false;\r\n    },\r\n    handleCheckedChange(value) {\r\n        let arr=[];\r\n        for(let i in this.cpaSortList){\r\n            for(let j in this.cpaSortList[i].item){\r\n                arr.push(this.cpaSortList[i].item[j].code)\r\n            }\r\n        }\r\n        let checkedCount = value.length;\r\n        this.checkAll = checkedCount === arr.length;\r\n        this.isIndeterminate = checkedCount > 0 && checkedCount < arr.length;\r\n    },\r\n       \r\n  },\r\n  created(){\r\n    if(this.cpadata.length>0){\r\n        let list=this.cpadata.concat([]);\r\n        let arr=[];\r\n        this.cpaSortListAll=[];\r\n        let arrUnique=[];\r\n        for(let i in list){\r\n            let item=list[i];\r\n            item.show=true;\r\n            let cate=item.name.split('-')[0];\r\n            if(!arrUnique.includes(cate)){\r\n                arrUnique.push(cate);\r\n                arr.push({cate:cate,item:[]});\r\n            }\r\n            let index=arrUnique.findIndex(val=>{\r\n                return val==cate\r\n            });\r\n            arr[index].item.push(item);             \r\n        }\r\n        this.cpaSortList=arr;\r\n        this.cpaSortListAll=JSON.parse(JSON.stringify({key:arr})).key;\r\n    \r\n    }\r\n   \r\n    if(this.cpaChecked.length>0){\r\n        this.init();\r\n        this.cpaForm.cpaList=this.cpaChecked;\r\n        this.isIndeterminate=true;\r\n        this.checkAll = this.cpaChecked === this.cpadata.length;\r\n    }else{\r\n        this.init();\r\n        this.cpaForm.cpaList=this.cpaChecked;\r\n    }\r\n      \r\n  },\r\n  watch:{\r\n        cpaChecked(val){\r\n            this.init();\r\n            this.cpaForm.cpaList=val; \r\n            this.checkAll = this.cpaChecked === this.cpadata.length;\r\n            this.isIndeterminate = this.cpaChecked > 0 && this.cpaChecked < this.cpadata.length;\r\n        }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"less\" >\r\n.cpa-form{\r\n   \r\n  .el-checkbox{\r\n    margin-bottom:10px;\r\n    width: 215px;\r\n    margin-right: 10px;\r\n  }\r\n  .el-checkbox__label {\r\n      font-size: 14px;\r\n      padding-left: 5px;\r\n      word-break: break-all;\r\n      display: inline-block;\r\n      width: 195px;\r\n      height: auto;\r\n      vertical-align: top;\r\n      word-wrap: break-word;\r\n      white-space: initial;\r\n      text-align: left;    \r\n  }\r\n  .el-checkbox__input{\r\n      vertical-align: top;\r\n      margin-top:4px;\r\n  }\r\n  .list-item{\r\n    margin-bottom:10px;\r\n    position:relative;\r\n    padding-left:120px;\r\n    .item{\r\n        padding:0;\r\n    }\r\n    .item-label{\r\n      position:absolute;\r\n      top:0px;\r\n      left:10px;\r\n      width:100px;\r\n      word-break: break-all;\r\n      word-wrap: break-word;\r\n      white-space: initial;\r\n      text-align: right;\r\n      font-size: 12px;\r\n      font-weight: 700;\r\n      color: #222;\r\n      margin-top: 0px;\r\n      line-height: normal;\r\n\r\n    }\r\n  }\r\n  .search-bar{\r\n      .bar-name{\r\n          width: 110px;\r\n          display: inline-block;\r\n          text-align: right;\r\n      }\r\n      margin-bottom: 15px;\r\n      .el-input--small{\r\n          width: 250px;\r\n          margin-left: 6px;\r\n      }\r\n  }\r\n  .el-checkbox+.el-checkbox{\r\n      margin-left:0;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// cpa-push.vue?00f5a8af","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.4@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".cpa-form .el-checkbox{margin-bottom:10px;width:215px;margin-right:10px}.cpa-form .el-checkbox__label{font-size:14px;padding-left:5px;word-break:break-all;display:inline-block;width:195px;height:auto;vertical-align:top;word-wrap:break-word;white-space:normal;text-align:left}.cpa-form .el-checkbox__input{vertical-align:top;margin-top:4px}.cpa-form .list-item{margin-bottom:10px;position:relative;padding-left:120px}.cpa-form .list-item .item{padding:0}.cpa-form .list-item .item-label{position:absolute;top:0;left:10px;width:100px;word-break:break-all;word-wrap:break-word;white-space:normal;text-align:right;font-size:12px;font-weight:700;color:#222;margin-top:0;line-height:normal}.cpa-form .search-bar{margin-bottom:15px}.cpa-form .search-bar .bar-name{width:110px;display:inline-block;text-align:right}.cpa-form .search-bar .el-input--small{width:250px;margin-left:6px}.cpa-form .el-checkbox+.el-checkbox{margin-left:0}\", \"\", {\"version\":3,\"sources\":[\"D:/mywebstorm/admin-sys/src/components/sys/goods/cpa-push.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,mBAAoB,AACpB,YAAa,AACb,iBAAmB,CACpB,AACD,8BACE,eAAgB,AAChB,iBAAkB,AAClB,qBAAsB,AACtB,qBAAsB,AACtB,YAAa,AACb,YAAa,AACb,mBAAoB,AACpB,qBAAsB,AACtB,mBAAqB,AACrB,eAAiB,CAClB,AACD,8BACE,mBAAoB,AACpB,cAAgB,CACjB,AACD,qBACE,mBAAoB,AACpB,kBAAmB,AACnB,kBAAoB,CACrB,AACD,2BACE,SAAW,CACZ,AACD,iCACE,kBAAmB,AACnB,MAAS,AACT,UAAW,AACX,YAAa,AACb,qBAAsB,AACtB,qBAAsB,AACtB,mBAAqB,AACrB,iBAAkB,AAClB,eAAgB,AAChB,gBAAiB,AACjB,WAAY,AACZ,aAAgB,AAChB,kBAAoB,CACrB,AACD,sBACE,kBAAoB,CACrB,AACD,gCACE,YAAa,AACb,qBAAsB,AACtB,gBAAkB,CACnB,AACD,uCACE,YAAa,AACb,eAAiB,CAClB,AACD,oCACE,aAAe,CAChB\",\"file\":\"cpa-push.vue\",\"sourcesContent\":[\"\\n.cpa-form .el-checkbox {\\n  margin-bottom: 10px;\\n  width: 215px;\\n  margin-right: 10px;\\n}\\n.cpa-form .el-checkbox__label {\\n  font-size: 14px;\\n  padding-left: 5px;\\n  word-break: break-all;\\n  display: inline-block;\\n  width: 195px;\\n  height: auto;\\n  vertical-align: top;\\n  word-wrap: break-word;\\n  white-space: initial;\\n  text-align: left;\\n}\\n.cpa-form .el-checkbox__input {\\n  vertical-align: top;\\n  margin-top: 4px;\\n}\\n.cpa-form .list-item {\\n  margin-bottom: 10px;\\n  position: relative;\\n  padding-left: 120px;\\n}\\n.cpa-form .list-item .item {\\n  padding: 0;\\n}\\n.cpa-form .list-item .item-label {\\n  position: absolute;\\n  top: 0px;\\n  left: 10px;\\n  width: 100px;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n  white-space: initial;\\n  text-align: right;\\n  font-size: 12px;\\n  font-weight: 700;\\n  color: #222;\\n  margin-top: 0px;\\n  line-height: normal;\\n}\\n.cpa-form .search-bar {\\n  margin-bottom: 15px;\\n}\\n.cpa-form .search-bar .bar-name {\\n  width: 110px;\\n  display: inline-block;\\n  text-align: right;\\n}\\n.cpa-form .search-bar .el-input--small {\\n  width: 250px;\\n  margin-left: 6px;\\n}\\n.cpa-form .el-checkbox + .el-checkbox {\\n  margin-left: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-14add59e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.0.4@less-loader/dist?{\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/sys/goods/cpa-push.vue\n// module id = 777\n// module chunks = 1 16","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14add59e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_less-loader@4.0.4@less-loader/dist/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./cpa-push.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"20a2c7cd\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-14add59e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.0.4@less-loader/dist?{\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/sys/goods/cpa-push.vue\n// module id = 780\n// module chunks = 1 16","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"wrap-cpa-push\"\n  }, [_c('div', {\n    staticClass: \"cpa-form\"\n  }, [_c('div', {\n    staticClass: \"search-bar\"\n  }, [_c('span', {\n    staticClass: \"bar-name\"\n  }, [_vm._v(\"合作平台\")]), _vm._v(\" \"), _c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索\",\n      \"size\": \"small\",\n      \"clearable\": \"\"\n    },\n    on: {\n      \"change\": _vm.doCpaSearch\n    },\n    model: {\n      value: (_vm.cpaForm.cpaSearch),\n      callback: function($$v) {\n        _vm.$set(_vm.cpaForm, \"cpaSearch\", $$v)\n      },\n      expression: \"cpaForm.cpaSearch\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"checked-all\",\n    staticStyle: {\n      \"padding-left\": \"118px\"\n    }\n  }, [_c('el-checkbox', {\n    attrs: {\n      \"indeterminate\": _vm.isIndeterminate\n    },\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(\"全选\")])], 1), _vm._v(\" \"), _c('el-checkbox-group', {\n    on: {\n      \"change\": _vm.handleCheckedChange\n    },\n    model: {\n      value: (_vm.cpaForm.cpaList),\n      callback: function($$v) {\n        _vm.$set(_vm.cpaForm, \"cpaList\", $$v)\n      },\n      expression: \"cpaForm.cpaList\"\n    }\n  }, _vm._l((_vm.cpaSortList), function(item) {\n    return (item.item.length > 0) ? _c('div', {\n      key: item.cate,\n      staticClass: \"list-item\"\n    }, [_c('div', {\n      staticClass: \"item-label\"\n    }, [_vm._v(_vm._s(item.cate))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, _vm._l((item.item), function(item2) {\n      return _c('el-checkbox', {\n        key: item2.code,\n        attrs: {\n          \"label\": item2.code\n        }\n      }, [_vm._v(\"\\r\\n                    \" + _vm._s(item2.name))])\n    }))]) : _vm._e()\n  }))], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-14add59e\"}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/sys/goods/cpa-push.vue\n// module id = 783\n// module chunks = 1 16","<template>\r\n  <div class=\"wrap-goods-export\">\r\n      <el-button type=\"warning\" @click=\"download\" v-if=\"userType=='supplier'\">导出</el-button>\r\n        <el-upload\r\n        v-if=\"userType=='supplier'\"\r\n        class=\"upload-goods\"\r\n        action=\"/proxy/goods-upload/api/goods/uploadgoodsskuinfo\"\r\n        :accept=\"'file/file.xls'\"\r\n        :on-success=\"handleSuccess\"\r\n        :before-upload='handldBeforeUpload'\r\n        :show-file-list=\"false\"\r\n        >\r\n            <el-button size=\"small\" type=\"success\" :loading=\"goodsLoad\">导入更新</el-button>\r\n            \r\n        </el-upload>\r\n      <el-button type=\"warning\" @click=\"dialogForm=true\" v-if=\"userType=='admin'\">导出</el-button>\r\n      <el-button type=\"info\" @click=\"showProgress\" v-if=\"userType=='admin'\">查看进度</el-button>\r\n     <!-- 模拟表单提交 -->\r\n    \r\n    <div class=\"form-download\">\r\n       <iframe src=\"\" frameborder=\"0\" name=\"msg-iframe\" style=\"display:none;\">\r\n          \r\n       </iframe>\r\n      <form action=\"/proxy/fv/supplier/goods.php?act=downloadGoodsSkuList\" method=\"post\" id=\"form-download\" style=\"display:none;\" target=\"msg-iframe\">\r\n        <input type=\"text\" name=\"data\"  id=\"form-data\" :value=\"downloadkey\"/>\r\n        <button type=\"submit\" >submit</button>\r\n      </form>  \r\n      \r\n    </div>\r\n    <el-dialog title=\"商品导出进度\" :visible.sync=\"dialogLink\"   @close=\"closeDialog\" width=\"80%\">\r\n        <el-table :data=\"linkList\" v-loading=\"loading\" class=\"report\" border stripe max-height=\"400\">\r\n            <el-table-column type=\"index\" width=\"80\"></el-table-column>\r\n            <el-table-column prop=\"downTime\" label=\"生成时间\" width=\"150\"></el-table-column>  \r\n            <el-table-column label=\"状态\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    {{scope.row.status|filterStatus}}\r\n                </template>\r\n            </el-table-column>\r\n             <el-table-column prop=\"number\" label=\"生成数量\" width=\"150\"></el-table-column>  \r\n            <el-table-column prop=\"fileName\" label=\"文件名称\" min-width=\"280\"></el-table-column>\r\n            <el-table-column prop=\"url\" label=\"下载\" class=\"download\">\r\n                <template slot-scope=\"scope\">\r\n                    <a :href=\"scope.row.url\" target=\"_blank\" :download=\"scope.row.fileName\" style=\"color:#20A0FF;\" v-if=\"scope.row.status==1\">点击下载</a>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </el-dialog> \r\n    <el-dialog title=\"请选择导出格式\" :visible.sync=\"dialogForm\" style=\"text-algin:center;\">\r\n        <el-radio class=\"radio1\" v-model=\"processType\" label=\"1\" >SKU竖排</el-radio>\r\n        <el-radio class=\"radio\" v-model=\"processType\" label=\"2\">SKU横排</el-radio>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogForm = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"search_export\">确 定</el-button>\r\n    </div>\r\n    </el-dialog>     \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props:['search','userType'], \r\n  data(){\r\n      return {\r\n          goodsLoad:false,\r\n          linkList:[],\r\n          dialogLink:false,\r\n          loading:true,\r\n          timer:'',\r\n          dialogForm:false,\r\n          processType:'1',\r\n          \r\n      }\r\n  },\r\n  computed:{\r\n        \r\n      downloadkey(){\r\n\r\n        return JSON.stringify({\"head\": {\r\n            \"version\": \"1.0.0\", //版本控制\r\n            \"timeStamp\": this.format.asString('yyyyMMddhhmmss', new Date())\r\n        },body:JSON.parse(JSON.stringify(this.search))});\r\n      }\r\n  },\r\n  methods: {\r\n    handldBeforeUpload(){\r\n        this.goodsLoad=true;\r\n    },\r\n    handleSuccess(res){\r\n        this.goodsLoad=false;\r\n        if(res.head.code=='10000'){\r\n            this.$message.success(\"商品导入成功！\");\r\n        }else if(res.head.code=='40001'){\r\n            let _html='';\r\n            let arr=res.body.sub_msg.split(';')\r\n            for(let i in arr){\r\n                if(arr[i]!=''){\r\n                    _html+=`<div>${arr[i]}</div>`;\r\n                }\r\n                \r\n            }\r\n            this.$alert(`<div>${_html}</div>`, '错误提示', {\r\n                dangerouslyUseHTMLString: true,\r\n                customClass:'message-goods-import'\r\n            });\r\n        }else{\r\n            this.$message.error(res.body.sub_msg)\r\n        }\r\n    },\r\n      download(){ \r\n        this.$confirm('您确定要导出此商品？','提示' ,{\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'success'\r\n        }).then(()=>{\r\n             document.getElementById('form-download').submit();\r\n        }).catch(()=>{\r\n            this.$message({\r\n                type: 'info',\r\n                message: '已取消'\r\n            }); \r\n        })  \r\n       \r\n      },\r\n      search_export(){\r\n        this.dialogForm=false;\r\n        let params=JSON.parse(JSON.stringify(this.search));\r\n        params.processType=this.processType;\r\n        this.axios.post('/proxy/goods-upload/api/goods/down/process',{body:params}).then(res=>{\r\n            let data=res.data;\r\n            if(data.head.code=='10000'){\r\n                this.$message({\r\n                    message: '商品正在导出,可点击查看进度按钮，查看导出进度',\r\n                    type: 'success',\r\n                     showClose: true,\r\n                    duration:5000\r\n                })\r\n            }\r\n        })\r\n      },\r\n      showProgress(){\r\n        clearInterval(this.timer);\r\n        this.loading=true;\r\n        this.axios.get('/proxy/goods-upload/api/goods/down/info',{}).then(res=>{\r\n            let data=res.data;\r\n            this.loading=false;\r\n            this.dialogLink=true;\r\n            if(data.head.code=='10000'){\r\n                this.linkList=data.body.rows;\r\n            }\r\n        })          \r\n        this.timer=setInterval(()=>{\r\n            this.loading=true;\r\n            setTimeout(()=>{\r\n                this.axios.get('/proxy/goods-upload/api/goods/down/info',{}).then(res=>{\r\n                    let data=res.data;\r\n                    this.loading=false;\r\n                    this.dialogLink=true;\r\n                    if(data.head.code=='10000'){\r\n                        this.linkList=data.body.rows;\r\n                    }\r\n                })  \r\n            },200)\r\n\r\n        },5000)  \r\n        \r\n      },\r\n      closeDialog(){\r\n          clearInterval(this.timer);\r\n        \r\n      }\r\n  },\r\n  filters:{\r\n      filterStatus(val){\r\n          let str='';\r\n          switch(val){\r\n              case 0:\r\n                str='生成中';\r\n              break;\r\n              case 1:\r\n                str='已生成';\r\n              break;\r\n              case 2:\r\n                str='生成失败,请重新生成';\r\n              break;\r\n\r\n          }\r\n          return str;\r\n      }\r\n  },\r\n  created(){\r\n    window.$message = this.$message;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n    .wrap-goods-export{\r\n        display:inline-block;\r\n        .el-dialog__header{\r\n            text-align:left;\r\n        }\r\n        .el-dialog__footer,.el-dialog__body{\r\n            text-align: center;\r\n        }\r\n        .radio1{\r\n            margin-right: 100px;\r\n        }\r\n        .upload-goods{\r\n            display: inline-block;\r\n        }\r\n        \r\n    }\r\n    .message-goods-import .el-message-box__message{\r\n        max-height: 300px;\r\n        overflow-y: auto;\r\n    }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// goods-export.vue?6bbe694b","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.4@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".wrap-goods-export{display:inline-block}.wrap-goods-export .el-dialog__header{text-align:left}.wrap-goods-export .el-dialog__body,.wrap-goods-export .el-dialog__footer{text-align:center}.wrap-goods-export .radio1{margin-right:100px}.wrap-goods-export .upload-goods{display:inline-block}.message-goods-import .el-message-box__message{max-height:300px;overflow-y:auto}\", \"\", {\"version\":3,\"sources\":[\"D:/mywebstorm/admin-sys/src/components/sys/goods/goods-export.vue\"],\"names\":[],\"mappings\":\"AACA,mBACE,oBAAsB,CACvB,AACD,sCACE,eAAiB,CAClB,AACD,0EAEE,iBAAmB,CACpB,AACD,2BACE,kBAAoB,CACrB,AACD,iCACE,oBAAsB,CACvB,AACD,+CACE,iBAAkB,AAClB,eAAiB,CAClB\",\"file\":\"goods-export.vue\",\"sourcesContent\":[\"\\n.wrap-goods-export {\\n  display: inline-block;\\n}\\n.wrap-goods-export .el-dialog__header {\\n  text-align: left;\\n}\\n.wrap-goods-export .el-dialog__footer,\\n.wrap-goods-export .el-dialog__body {\\n  text-align: center;\\n}\\n.wrap-goods-export .radio1 {\\n  margin-right: 100px;\\n}\\n.wrap-goods-export .upload-goods {\\n  display: inline-block;\\n}\\n.message-goods-import .el-message-box__message {\\n  max-height: 300px;\\n  overflow-y: auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-24979314\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.0.4@less-loader/dist?{\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/sys/goods/goods-export.vue\n// module id = 858\n// module chunks = 16","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24979314\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_less-loader@4.0.4@less-loader/dist/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./goods-export.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"02a965a2\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-24979314\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.0.4@less-loader/dist?{\"sourceMap\":true}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=styles&index=0!./src/components/sys/goods/goods-export.vue\n// module id = 905\n// module chunks = 16","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24979314\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=styles&index=0!./goods-export.vue\")\n}\nvar Component = require(\"!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=script&index=0!./goods-export.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24979314\\\"}!../../../../node_modules/_vue-loader@12.2.1@vue-loader/lib/selector?type=template&index=0!./goods-export.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sys/goods/goods-export.vue\n// module id = 945\n// module chunks = 16","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"wrap-goods-export\"\n  }, [(_vm.userType == 'supplier') ? _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.download\n    }\n  }, [_vm._v(\"导出\")]) : _vm._e(), _vm._v(\" \"), (_vm.userType == 'supplier') ? _c('el-upload', {\n    staticClass: \"upload-goods\",\n    attrs: {\n      \"action\": \"/proxy/goods-upload/api/goods/uploadgoodsskuinfo\",\n      \"accept\": 'file/file.xls',\n      \"on-success\": _vm.handleSuccess,\n      \"before-upload\": _vm.handldBeforeUpload,\n      \"show-file-list\": false\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"success\",\n      \"loading\": _vm.goodsLoad\n    }\n  }, [_vm._v(\"导入更新\")])], 1) : _vm._e(), _vm._v(\" \"), (_vm.userType == 'admin') ? _c('el-button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogForm = true\n      }\n    }\n  }, [_vm._v(\"导出\")]) : _vm._e(), _vm._v(\" \"), (_vm.userType == 'admin') ? _c('el-button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": _vm.showProgress\n    }\n  }, [_vm._v(\"查看进度\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-download\"\n  }, [_c('iframe', {\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"src\": \"\",\n      \"frameborder\": \"0\",\n      \"name\": \"msg-iframe\"\n    }\n  }), _vm._v(\" \"), _c('form', {\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"action\": \"/proxy/fv/supplier/goods.php?act=downloadGoodsSkuList\",\n      \"method\": \"post\",\n      \"id\": \"form-download\",\n      \"target\": \"msg-iframe\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"data\",\n      \"id\": \"form-data\"\n    },\n    domProps: {\n      \"value\": _vm.downloadkey\n    }\n  }), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"submit\")])])]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"商品导出进度\",\n      \"visible\": _vm.dialogLink,\n      \"width\": \"80%\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogLink = $event\n      },\n      \"close\": _vm.closeDialog\n    }\n  }, [_c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"report\",\n    attrs: {\n      \"data\": _vm.linkList,\n      \"border\": \"\",\n      \"stripe\": \"\",\n      \"max-height\": \"400\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"80\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"downTime\",\n      \"label\": \"生成时间\",\n      \"width\": \"150\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"状态\",\n      \"width\": \"150\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_vm._v(\"\\n                  \" + _vm._s(_vm._f(\"filterStatus\")(scope.row.status)) + \"\\n              \")]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"number\",\n      \"label\": \"生成数量\",\n      \"width\": \"150\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"fileName\",\n      \"label\": \"文件名称\",\n      \"min-width\": \"280\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    staticClass: \"download\",\n    attrs: {\n      \"prop\": \"url\",\n      \"label\": \"下载\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.status == 1) ? _c('a', {\n          staticStyle: {\n            \"color\": \"#20A0FF\"\n          },\n          attrs: {\n            \"href\": scope.row.url,\n            \"target\": \"_blank\",\n            \"download\": scope.row.fileName\n          }\n        }, [_vm._v(\"点击下载\")]) : _vm._e()]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    staticStyle: {\n      \"text-algin\": \"center\"\n    },\n    attrs: {\n      \"title\": \"请选择导出格式\",\n      \"visible\": _vm.dialogForm\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogForm = $event\n      }\n    }\n  }, [_c('el-radio', {\n    staticClass: \"radio1\",\n    attrs: {\n      \"label\": \"1\"\n    },\n    model: {\n      value: (_vm.processType),\n      callback: function($$v) {\n        _vm.processType = $$v\n      },\n      expression: \"processType\"\n    }\n  }, [_vm._v(\"SKU竖排\")]), _vm._v(\" \"), _c('el-radio', {\n    staticClass: \"radio\",\n    attrs: {\n      \"label\": \"2\"\n    },\n    model: {\n      value: (_vm.processType),\n      callback: function($$v) {\n        _vm.processType = $$v\n      },\n      expression: \"processType\"\n    }\n  }, [_vm._v(\"SKU横排\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogForm = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.search_export\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-24979314\"}!./~/_vue-loader@12.2.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/sys/goods/goods-export.vue\n// module id = 954\n// module chunks = 16"],"sourceRoot":""}