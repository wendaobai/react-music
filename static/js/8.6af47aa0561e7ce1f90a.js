webpackJsonp([8],{744:function(e,t,a){function o(e){a(902)}var s=a(4)(a(806),a(951),o,"data-v-16a6dcfa",null);e.exports=s.exports},806:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{loading:!1,searchForm:{pageNum:1,pageSize:20},recycleList:[],total:"",selectData:[],goodsIds:[],goodsSns:[]}},methods:{getRecycleList:function(){var e=this;this.loading=!0,this.axios.post("/proxy/fv/supplier/goods.php?act=getRecycle",{body:this.searchForm}).then(function(t){e.loading=!1;var a=t.data;"10000"==a.head.code&&(e.recycleList=a.body.GoodsList,e.total=parseInt(a.body.PageInfo.record_count))})},handleCurrentChange:function(e){this.searchForm.pageNum=e,this.getRecycleList()},handleSelectionChange:function(e){this.selectData=e},goodsDelete:function(e){var t=this;if(this.goodsIds=[],"batch"==e)for(var a in this.selectData)this.goodsIds.push(this.selectData[a].goods_id);else this.goodsIds=[e];if(0==this.goodsIds.length)return this.$message({message:"请选择商品",type:"error"}),!1;this.$confirm("您确定要清空该商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/proxy/goods/api/goods/delete/physics",{body:{goodsIds:t.goodsIds}}).then(function(e){var a=e.data;t.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error"}),"10000"==a.head.code&&t.getRecycleList()})}).catch(function(){t.$message({type:"info",message:"已取消清空"})})},reduction:function(e){var t=this;this.$confirm("您确定要还原商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/proxy/goods/api/goods/delete/logic",{body:{goodsIds:[e],isDelete:0}}).then(function(e){var a=e.data;t.$message({message:"10000"==a.head.code?"操作成功":a.body.sub_msg,type:"10000"==a.head.code?"success":"error"}),"10000"==a.head.code&&t.getRecycleList()})}).catch(function(){t.$message({type:"info",message:"已取消还原"})})}},created:function(){this.getRecycleList()}}},855:function(e,t,a){t=e.exports=a(728)(!0),t.push([e.i,".wrap-recycle .batch[data-v-16a6dcfa]{margin:15px 0}.wrap-recycle .nav-bar[data-v-16a6dcfa]{margin:8px 0}.wrap-recycle .td-goods-name[data-v-16a6dcfa]{text-align:left}.wrap-recycle .td-goods-name .img[data-v-16a6dcfa]{border:1px solid #666;border-radius:4px;padding:4px}.wrap-recycle .td-goods-name .img img[data-v-16a6dcfa]{border-radius:2px}.wrap-recycle .td-goods-name .txt[data-v-16a6dcfa]{margin-left:80px}","",{version:3,sources:["D:/mywebstorm/admin-sys/src/components/sys/goods/recycle-list.vue"],names:[],mappings:"AACA,sCACE,aAAe,CAChB,AACD,wCACE,YAAc,CACf,AACD,8CACE,eAAiB,CAClB,AACD,mDACE,sBAAuB,AACvB,kBAAmB,AACnB,WAAa,CACd,AACD,uDACE,iBAAmB,CACpB,AACD,mDACE,gBAAkB,CACnB",file:"recycle-list.vue",sourcesContent:["\n.wrap-recycle .batch[data-v-16a6dcfa] {\n  margin: 15px 0;\n}\n.wrap-recycle .nav-bar[data-v-16a6dcfa] {\n  margin: 8px 0;\n}\n.wrap-recycle .td-goods-name[data-v-16a6dcfa] {\n  text-align: left;\n}\n.wrap-recycle .td-goods-name .img[data-v-16a6dcfa] {\n  border: 1px solid #666;\n  border-radius: 4px;\n  padding: 4px;\n}\n.wrap-recycle .td-goods-name .img img[data-v-16a6dcfa] {\n  border-radius: 2px;\n}\n.wrap-recycle .td-goods-name .txt[data-v-16a6dcfa] {\n  margin-left: 80px;\n}\n"],sourceRoot:""}])},902:function(e,t,a){var o=a(855);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(729)("6baea7aa",o,!0)},951:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap wrap-recycle"},[a("div",{staticClass:"nav-bar clear-fix"},[a("el-breadcrumb",{staticClass:"fl-l",attrs:{separator:">"}},[a("el-breadcrumb-item",[e._v("商品")]),e._v(" "),a("el-breadcrumb-item",[e._v("回收站("+e._s(e.total)+")")])],1)],1),e._v(" "),a("div",{staticClass:"batch"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.goodsDelete("batch")}}},[e._v("清空回收站")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"report goods-list",staticStyle:{width:"100%"},attrs:{data:e.recycleList,stripe:"",border:"","max-height":"520"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"商品编码",prop:"goods_sn",align:"center","min-width":"120","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"商品名称",prop:"goods_name",align:"center","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"td-goods-name clear-fix"},[a("div",{staticClass:"img fl-l"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.row.cover_img,expression:"scope.row.cover_img"}],attrs:{alt:"","min-width":"60",height:"60"}})]),e._v(" "),a("div",{staticClass:"txt"},[e._v(e._s(t.row.goods_name))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后更新时间",prop:"last_update",align:"center","min-width":"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left","min-width":"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.goodsDelete(t.row.goods_id)}}},[e._v("清空")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.reduction(t.row.goods_id)}}},[e._v("还原")])]}}])})],1),e._v(" "),Math.ceil(e.total/e.myConfig.pageRows)>1?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.searchForm.pageNum,"page-size":e.searchForm.pageSize,layout:"total,  prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],1)},staticRenderFns:[]}}});
//# sourceMappingURL=8.6af47aa0561e7ce1f90a.js.map